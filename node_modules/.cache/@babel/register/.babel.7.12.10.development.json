{
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/index.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _loglevel = _interopRequireDefault(require(\"loglevel\"));\n\nvar _start = require(\"./start\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_loglevel.default.setLevel(\"info\");\n\n(0, _start.startServer)();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImxvZ2dlciIsInNldExldmVsIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOzs7O0FBQ0FBLGtCQUFPQyxRQUFQLENBQWdCLE1BQWhCOztBQUNBIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tZXJvai9EZXNrdG9wL0phdmFTY3JpcHQveW91dHViZS9zZXJ2ZXIvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2dnZXIgZnJvbSBcImxvZ2xldmVsXCI7XG5pbXBvcnQgeyBzdGFydFNlcnZlciB9IGZyb20gXCIuL3N0YXJ0XCI7XG5sb2dnZXIuc2V0TGV2ZWwoXCJpbmZvXCIpO1xuc3RhcnRTZXJ2ZXIoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "logger",
        "setLevel"
      ],
      "mappings": ";;AAAA;;AACA;;;;AACAA,kBAAOC,QAAP,CAAgB,MAAhB;;AACA",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/",
      "sourcesContent": [
        "import logger from \"loglevel\";\nimport { startServer } from \"./start\";\nlogger.setLevel(\"info\");\nstartServer();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632298138564
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/start.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/start.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/start.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/start.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/",
        "sourceFileName": "start.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startServer = startServer;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nrequire(\"express-async-errors\");\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _loglevel = _interopRequireDefault(require(\"loglevel\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _cookieParser = _interopRequireDefault(require(\"cookie-parser\"));\n\nvar _routes = require(\"./routes\");\n\nvar _error = require(\"./middleware/error\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Import this module to handle errors when using async functions for our route handlers\n_dotenv.default.config();\n\nfunction startServer({\n  port = process.env.PORT\n} = {}) {\n  const app = (0, _express.default)();\n  app.use((0, _morgan.default)(\"dev\"));\n  app.use((0, _cors.default)());\n  app.use((0, _cookieParser.default)());\n  app.use(_express.default.json()); // all API routes are prefixed with /api/v1\n\n  app.use(\"/api/v1\", (0, _routes.getRoutes)()); // Generic error handler if errors are missed by 'express-async-errors' middleware\n\n  app.use(_error.errorMiddleware); // When our project is pushed to production, we will serve // the react app using express.static() middleware\n\n  if (process.env.NODE_ENV === \"production\") {\n    app.use(_express.default.static(_path.default.resolve(__dirname, \"../client/build\"))); // Any request not caught by our API will be routed\n    // to our built react app\n\n    app.get(\"*\", function (req, res) {\n      res.sendFile(_path.default.resolve(__dirname, \"../client/build\", \"index.html\"));\n    });\n  } // This block of code is made to reliably start and close our express app\n  // It is written as a promise, which can be more easily tested\n\n\n  return new Promise(resolve => {\n    const server = app.listen(port, () => {\n      _loglevel.default.info(`Listening on port ${server.address().port}`);\n\n      const originalClose = server.close.bind(server);\n\n      server.close = () => {\n        return new Promise(resolveClose => {\n          originalClose(resolveClose);\n        });\n      }; // This function properly closes the server when the program exits\n\n\n      (0, _error.setupCloseOnExit)(server);\n      resolve(server);\n    });\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXJ0LmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsInN0YXJ0U2VydmVyIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwiYXBwIiwidXNlIiwiZXhwcmVzcyIsImpzb24iLCJlcnJvck1pZGRsZXdhcmUiLCJOT0RFX0VOViIsInN0YXRpYyIsInBhdGgiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZEZpbGUiLCJQcm9taXNlIiwic2VydmVyIiwibGlzdGVuIiwibG9nZ2VyIiwiaW5mbyIsImFkZHJlc3MiLCJvcmlnaW5hbENsb3NlIiwiY2xvc2UiLCJiaW5kIiwicmVzb2x2ZUNsb3NlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7Ozs7QUFWQTtBQVlBQSxnQkFBT0MsTUFBUDs7QUFFQSxTQUFTQyxXQUFULENBQXFCO0FBQUVDLEVBQUFBLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDO0FBQXJCLElBQThCLEVBQW5ELEVBQXVEO0FBQ3JELFFBQU1DLEdBQUcsR0FBRyx1QkFBWjtBQUNBQSxFQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FBUSxxQkFBTyxLQUFQLENBQVI7QUFDQUQsRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0JBQVI7QUFDQUQsRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsNEJBQVI7QUFDQUQsRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRQyxJQUFSLEVBQVIsRUFMcUQsQ0FNckQ7O0FBQ0FILEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFNBQVIsRUFBbUIsd0JBQW5CLEVBUHFELENBU3JEOztBQUNBRCxFQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUcsc0JBQVIsRUFWcUQsQ0FZckQ7O0FBQ0EsTUFBSVAsT0FBTyxDQUFDQyxHQUFSLENBQVlPLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekNMLElBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRQyxpQkFBUUksTUFBUixDQUFlQyxjQUFLQyxPQUFMLENBQWFDLFNBQWIsRUFBd0IsaUJBQXhCLENBQWYsQ0FBUixFQUR5QyxDQUd6QztBQUNBOztBQUNBVCxJQUFBQSxHQUFHLENBQUNVLEdBQUosQ0FBUSxHQUFSLEVBQWEsVUFBVUMsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQy9CQSxNQUFBQSxHQUFHLENBQUNDLFFBQUosQ0FBYU4sY0FBS0MsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLGlCQUF4QixFQUEyQyxZQUEzQyxDQUFiO0FBQ0QsS0FGRDtBQUdELEdBckJvRCxDQXVCckQ7QUFDQTs7O0FBQ0EsU0FBTyxJQUFJSyxPQUFKLENBQWFOLE9BQUQsSUFBYTtBQUM5QixVQUFNTyxNQUFNLEdBQUdmLEdBQUcsQ0FBQ2dCLE1BQUosQ0FBV3BCLElBQVgsRUFBaUIsTUFBTTtBQUNwQ3FCLHdCQUFPQyxJQUFQLENBQWEscUJBQW9CSCxNQUFNLENBQUNJLE9BQVAsR0FBaUJ2QixJQUFLLEVBQXZEOztBQUVBLFlBQU13QixhQUFhLEdBQUdMLE1BQU0sQ0FBQ00sS0FBUCxDQUFhQyxJQUFiLENBQWtCUCxNQUFsQixDQUF0Qjs7QUFDQUEsTUFBQUEsTUFBTSxDQUFDTSxLQUFQLEdBQWUsTUFBTTtBQUNuQixlQUFPLElBQUlQLE9BQUosQ0FBYVMsWUFBRCxJQUFrQjtBQUNuQ0gsVUFBQUEsYUFBYSxDQUFDRyxZQUFELENBQWI7QUFDRCxTQUZNLENBQVA7QUFHRCxPQUpELENBSm9DLENBU3BDOzs7QUFDQSxtQ0FBaUJSLE1BQWpCO0FBQ0FQLE1BQUFBLE9BQU8sQ0FBQ08sTUFBRCxDQUFQO0FBQ0QsS0FaYyxDQUFmO0FBYUQsR0FkTSxDQUFQO0FBZUQiLCJzb3VyY2VSb290IjoiL1VzZXJzL21lcm9qL0Rlc2t0b3AvSmF2YVNjcmlwdC95b3V0dWJlL3NlcnZlci9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbi8vIEltcG9ydCB0aGlzIG1vZHVsZSB0byBoYW5kbGUgZXJyb3JzIHdoZW4gdXNpbmcgYXN5bmMgZnVuY3Rpb25zIGZvciBvdXIgcm91dGUgaGFuZGxlcnNcbmltcG9ydCBcImV4cHJlc3MtYXN5bmMtZXJyb3JzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcImxvZ2xldmVsXCI7XG5pbXBvcnQgbW9yZ2FuIGZyb20gXCJtb3JnYW5cIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tIFwiY29va2llLXBhcnNlclwiO1xuXG5pbXBvcnQgeyBnZXRSb3V0ZXMgfSBmcm9tIFwiLi9yb3V0ZXNcIjtcbmltcG9ydCB7IGVycm9yTWlkZGxld2FyZSwgc2V0dXBDbG9zZU9uRXhpdCB9IGZyb20gXCIuL21pZGRsZXdhcmUvZXJyb3JcIjtcblxuZG90ZW52LmNvbmZpZygpO1xuXG5mdW5jdGlvbiBzdGFydFNlcnZlcih7IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIH0gPSB7fSkge1xuICBjb25zdCBhcHAgPSBleHByZXNzKCk7XG4gIGFwcC51c2UobW9yZ2FuKFwiZGV2XCIpKTtcbiAgYXBwLnVzZShjb3JzKCkpO1xuICBhcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcbiAgYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG4gIC8vIGFsbCBBUEkgcm91dGVzIGFyZSBwcmVmaXhlZCB3aXRoIC9hcGkvdjFcbiAgYXBwLnVzZShcIi9hcGkvdjFcIiwgZ2V0Um91dGVzKCkpO1xuXG4gIC8vIEdlbmVyaWMgZXJyb3IgaGFuZGxlciBpZiBlcnJvcnMgYXJlIG1pc3NlZCBieSAnZXhwcmVzcy1hc3luYy1lcnJvcnMnIG1pZGRsZXdhcmVcbiAgYXBwLnVzZShlcnJvck1pZGRsZXdhcmUpO1xuXG4gIC8vIFdoZW4gb3VyIHByb2plY3QgaXMgcHVzaGVkIHRvIHByb2R1Y3Rpb24sIHdlIHdpbGwgc2VydmUgLy8gdGhlIHJlYWN0IGFwcCB1c2luZyBleHByZXNzLnN0YXRpYygpIG1pZGRsZXdhcmVcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCIuLi9jbGllbnQvYnVpbGRcIikpKTtcblxuICAgIC8vIEFueSByZXF1ZXN0IG5vdCBjYXVnaHQgYnkgb3VyIEFQSSB3aWxsIGJlIHJvdXRlZFxuICAgIC8vIHRvIG91ciBidWlsdCByZWFjdCBhcHBcbiAgICBhcHAuZ2V0KFwiKlwiLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgICAgIHJlcy5zZW5kRmlsZShwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcIi4uL2NsaWVudC9idWlsZFwiLCBcImluZGV4Lmh0bWxcIikpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gVGhpcyBibG9jayBvZiBjb2RlIGlzIG1hZGUgdG8gcmVsaWFibHkgc3RhcnQgYW5kIGNsb3NlIG91ciBleHByZXNzIGFwcFxuICAvLyBJdCBpcyB3cml0dGVuIGFzIGEgcHJvbWlzZSwgd2hpY2ggY2FuIGJlIG1vcmUgZWFzaWx5IHRlc3RlZFxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBzZXJ2ZXIgPSBhcHAubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgICAgIGxvZ2dlci5pbmZvKGBMaXN0ZW5pbmcgb24gcG9ydCAke3NlcnZlci5hZGRyZXNzKCkucG9ydH1gKTtcblxuICAgICAgY29uc3Qgb3JpZ2luYWxDbG9zZSA9IHNlcnZlci5jbG9zZS5iaW5kKHNlcnZlcik7XG4gICAgICBzZXJ2ZXIuY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZUNsb3NlKSA9PiB7XG4gICAgICAgICAgb3JpZ2luYWxDbG9zZShyZXNvbHZlQ2xvc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICAvLyBUaGlzIGZ1bmN0aW9uIHByb3Blcmx5IGNsb3NlcyB0aGUgc2VydmVyIHdoZW4gdGhlIHByb2dyYW0gZXhpdHNcbiAgICAgIHNldHVwQ2xvc2VPbkV4aXQoc2VydmVyKTtcbiAgICAgIHJlc29sdmUoc2VydmVyKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IHN0YXJ0U2VydmVyIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "start.js"
      ],
      "names": [
        "dotenv",
        "config",
        "startServer",
        "port",
        "process",
        "env",
        "PORT",
        "app",
        "use",
        "express",
        "json",
        "errorMiddleware",
        "NODE_ENV",
        "static",
        "path",
        "resolve",
        "__dirname",
        "get",
        "req",
        "res",
        "sendFile",
        "Promise",
        "server",
        "listen",
        "logger",
        "info",
        "address",
        "originalClose",
        "close",
        "bind",
        "resolveClose"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;AAVA;AAYAA,gBAAOC,MAAP;;AAEA,SAASC,WAAT,CAAqB;AAAEC,EAAAA,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC;AAArB,IAA8B,EAAnD,EAAuD;AACrD,QAAMC,GAAG,GAAG,uBAAZ;AACAA,EAAAA,GAAG,CAACC,GAAJ,CAAQ,qBAAO,KAAP,CAAR;AACAD,EAAAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,EAAAA,GAAG,CAACC,GAAJ,CAAQ,4BAAR;AACAD,EAAAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,EAAR,EALqD,CAMrD;;AACAH,EAAAA,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmB,wBAAnB,EAPqD,CASrD;;AACAD,EAAAA,GAAG,CAACC,GAAJ,CAAQG,sBAAR,EAVqD,CAYrD;;AACA,MAAIP,OAAO,CAACC,GAAR,CAAYO,QAAZ,KAAyB,YAA7B,EAA2C;AACzCL,IAAAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQI,MAAR,CAAeC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,iBAAxB,CAAf,CAAR,EADyC,CAGzC;AACA;;AACAT,IAAAA,GAAG,CAACU,GAAJ,CAAQ,GAAR,EAAa,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC/BA,MAAAA,GAAG,CAACC,QAAJ,CAAaN,cAAKC,OAAL,CAAaC,SAAb,EAAwB,iBAAxB,EAA2C,YAA3C,CAAb;AACD,KAFD;AAGD,GArBoD,CAuBrD;AACA;;;AACA,SAAO,IAAIK,OAAJ,CAAaN,OAAD,IAAa;AAC9B,UAAMO,MAAM,GAAGf,GAAG,CAACgB,MAAJ,CAAWpB,IAAX,EAAiB,MAAM;AACpCqB,wBAAOC,IAAP,CAAa,qBAAoBH,MAAM,CAACI,OAAP,GAAiBvB,IAAK,EAAvD;;AAEA,YAAMwB,aAAa,GAAGL,MAAM,CAACM,KAAP,CAAaC,IAAb,CAAkBP,MAAlB,CAAtB;;AACAA,MAAAA,MAAM,CAACM,KAAP,GAAe,MAAM;AACnB,eAAO,IAAIP,OAAJ,CAAaS,YAAD,IAAkB;AACnCH,UAAAA,aAAa,CAACG,YAAD,CAAb;AACD,SAFM,CAAP;AAGD,OAJD,CAJoC,CASpC;;;AACA,mCAAiBR,MAAjB;AACAP,MAAAA,OAAO,CAACO,MAAD,CAAP;AACD,KAZc,CAAf;AAaD,GAdM,CAAP;AAeD",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/",
      "sourcesContent": [
        "import express from \"express\";\n// Import this module to handle errors when using async functions for our route handlers\nimport \"express-async-errors\";\nimport path from \"path\";\nimport cors from \"cors\";\nimport logger from \"loglevel\";\nimport morgan from \"morgan\";\nimport dotenv from \"dotenv\";\nimport cookieParser from \"cookie-parser\";\n\nimport { getRoutes } from \"./routes\";\nimport { errorMiddleware, setupCloseOnExit } from \"./middleware/error\";\n\ndotenv.config();\n\nfunction startServer({ port = process.env.PORT } = {}) {\n  const app = express();\n  app.use(morgan(\"dev\"));\n  app.use(cors());\n  app.use(cookieParser());\n  app.use(express.json());\n  // all API routes are prefixed with /api/v1\n  app.use(\"/api/v1\", getRoutes());\n\n  // Generic error handler if errors are missed by 'express-async-errors' middleware\n  app.use(errorMiddleware);\n\n  // When our project is pushed to production, we will serve // the react app using express.static() middleware\n  if (process.env.NODE_ENV === \"production\") {\n    app.use(express.static(path.resolve(__dirname, \"../client/build\")));\n\n    // Any request not caught by our API will be routed\n    // to our built react app\n    app.get(\"*\", function (req, res) {\n      res.sendFile(path.resolve(__dirname, \"../client/build\", \"index.html\"));\n    });\n  }\n\n  // This block of code is made to reliably start and close our express app\n  // It is written as a promise, which can be more easily tested\n  return new Promise((resolve) => {\n    const server = app.listen(port, () => {\n      logger.info(`Listening on port ${server.address().port}`);\n\n      const originalClose = server.close.bind(server);\n      server.close = () => {\n        return new Promise((resolveClose) => {\n          originalClose(resolveClose);\n        });\n      };\n      // This function properly closes the server when the program exits\n      setupCloseOnExit(server);\n      resolve(server);\n    });\n  });\n}\n\nexport { startServer };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632298138565
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/index.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getRoutes = getRoutes;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _auth = require(\"./auth\");\n\nvar _user = require(\"./user\");\n\nvar _video = require(\"./video\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getRoutes() {\n  // All routes in our Node API are placed on this router\n  const router = _express.default.Router(); // router.use() prefixes our route (i.e. /api/v1/auth)\n\n\n  router.use(\"/auth\", (0, _auth.getAuthRoutes)());\n  router.use(\"/users\", (0, _user.getUserRoutes)());\n  router.use(\"/videos\", (0, _video.getVideoRoutes)());\n  return router;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImdldFJvdXRlcyIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFDQTs7QUFDQTs7OztBQUVBLFNBQVNBLFNBQVQsR0FBcUI7QUFDbkI7QUFDQSxRQUFNQyxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWYsQ0FGbUIsQ0FJbkI7OztBQUNBRixFQUFBQSxNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CLDBCQUFwQjtBQUNBSCxFQUFBQSxNQUFNLENBQUNHLEdBQVAsQ0FBVyxRQUFYLEVBQXFCLDBCQUFyQjtBQUNBSCxFQUFBQSxNQUFNLENBQUNHLEdBQVAsQ0FBVyxTQUFYLEVBQXNCLDRCQUF0QjtBQUVBLFNBQU9ILE1BQVA7QUFDRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWVyb2ovRGVza3RvcC9KYXZhU2NyaXB0L3lvdXR1YmUvc2VydmVyL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcblxuaW1wb3J0IHsgZ2V0QXV0aFJvdXRlcyB9IGZyb20gXCIuL2F1dGhcIjtcbmltcG9ydCB7IGdldFVzZXJSb3V0ZXMgfSBmcm9tIFwiLi91c2VyXCI7XG5pbXBvcnQgeyBnZXRWaWRlb1JvdXRlcyB9IGZyb20gXCIuL3ZpZGVvXCI7XG5cbmZ1bmN0aW9uIGdldFJvdXRlcygpIHtcbiAgLy8gQWxsIHJvdXRlcyBpbiBvdXIgTm9kZSBBUEkgYXJlIHBsYWNlZCBvbiB0aGlzIHJvdXRlclxuICBjb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4gIC8vIHJvdXRlci51c2UoKSBwcmVmaXhlcyBvdXIgcm91dGUgKGkuZS4gL2FwaS92MS9hdXRoKVxuICByb3V0ZXIudXNlKFwiL2F1dGhcIiwgZ2V0QXV0aFJvdXRlcygpKTtcbiAgcm91dGVyLnVzZShcIi91c2Vyc1wiLCBnZXRVc2VyUm91dGVzKCkpO1xuICByb3V0ZXIudXNlKFwiL3ZpZGVvc1wiLCBnZXRWaWRlb1JvdXRlcygpKTtcblxuICByZXR1cm4gcm91dGVyO1xufVxuXG5leHBvcnQgeyBnZXRSb3V0ZXMgfTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "getRoutes",
        "router",
        "express",
        "Router",
        "use"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;AACA;;AACA;;;;AAEA,SAASA,SAAT,GAAqB;AACnB;AACA,QAAMC,MAAM,GAAGC,iBAAQC,MAAR,EAAf,CAFmB,CAInB;;;AACAF,EAAAA,MAAM,CAACG,GAAP,CAAW,OAAX,EAAoB,0BAApB;AACAH,EAAAA,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqB,0BAArB;AACAH,EAAAA,MAAM,CAACG,GAAP,CAAW,SAAX,EAAsB,4BAAtB;AAEA,SAAOH,MAAP;AACD",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "sourcesContent": [
        "import express from \"express\";\n\nimport { getAuthRoutes } from \"./auth\";\nimport { getUserRoutes } from \"./user\";\nimport { getVideoRoutes } from \"./video\";\n\nfunction getRoutes() {\n  // All routes in our Node API are placed on this router\n  const router = express.Router();\n\n  // router.use() prefixes our route (i.e. /api/v1/auth)\n  router.use(\"/auth\", getAuthRoutes());\n  router.use(\"/users\", getUserRoutes());\n  router.use(\"/videos\", getVideoRoutes());\n\n  return router;\n}\n\nexport { getRoutes };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632298138565
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/auth.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/auth.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAuthRoutes = getAuthRoutes;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// A function to get the routes.\n// All route definitions are in one place and we only need to export one thing\nfunction getAuthRoutes() {\n  const router = _express.default.Router();\n\n  return router;\n} // All controllers/utility functions here\n\n\nasync function googleLogin(req, res) {}\n\nasync function me(req, res) {}\n\nfunction signout(req, res) {}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiZ2V0QXV0aFJvdXRlcyIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnb29nbGVMb2dpbiIsInJlcSIsInJlcyIsIm1lIiwic2lnbm91dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0E7QUFDQTtBQUNBLFNBQVNBLGFBQVQsR0FBeUI7QUFDdkIsUUFBTUMsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQUVBLFNBQU9GLE1BQVA7QUFDRCxDLENBRUQ7OztBQUNBLGVBQWVHLFdBQWYsQ0FBMkJDLEdBQTNCLEVBQWdDQyxHQUFoQyxFQUFxQyxDQUFFOztBQUV2QyxlQUFlQyxFQUFmLENBQWtCRixHQUFsQixFQUF1QkMsR0FBdkIsRUFBNEIsQ0FBRTs7QUFFOUIsU0FBU0UsT0FBVCxDQUFpQkgsR0FBakIsRUFBc0JDLEdBQXRCLEVBQTJCLENBQUUiLCJzb3VyY2VSb290IjoiL1VzZXJzL21lcm9qL0Rlc2t0b3AvSmF2YVNjcmlwdC95b3V0dWJlL3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG4vLyBBIGZ1bmN0aW9uIHRvIGdldCB0aGUgcm91dGVzLlxuLy8gQWxsIHJvdXRlIGRlZmluaXRpb25zIGFyZSBpbiBvbmUgcGxhY2UgYW5kIHdlIG9ubHkgbmVlZCB0byBleHBvcnQgb25lIHRoaW5nXG5mdW5jdGlvbiBnZXRBdXRoUm91dGVzKCkge1xuICBjb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4gIHJldHVybiByb3V0ZXI7XG59XG5cbi8vIEFsbCBjb250cm9sbGVycy91dGlsaXR5IGZ1bmN0aW9ucyBoZXJlXG5hc3luYyBmdW5jdGlvbiBnb29nbGVMb2dpbihyZXEsIHJlcykge31cblxuYXN5bmMgZnVuY3Rpb24gbWUocmVxLCByZXMpIHt9XG5cbmZ1bmN0aW9uIHNpZ25vdXQocmVxLCByZXMpIHt9XG5cbmV4cG9ydCB7IGdldEF1dGhSb3V0ZXMgfTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "getAuthRoutes",
        "router",
        "express",
        "Router",
        "googleLogin",
        "req",
        "res",
        "me",
        "signout"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA;AACA;AACA,SAASA,aAAT,GAAyB;AACvB,QAAMC,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEA,SAAOF,MAAP;AACD,C,CAED;;;AACA,eAAeG,WAAf,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqC,CAAE;;AAEvC,eAAeC,EAAf,CAAkBF,GAAlB,EAAuBC,GAAvB,EAA4B,CAAE;;AAE9B,SAASE,OAAT,CAAiBH,GAAjB,EAAsBC,GAAtB,EAA2B,CAAE",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "sourcesContent": [
        "import express from \"express\";\n// A function to get the routes.\n// All route definitions are in one place and we only need to export one thing\nfunction getAuthRoutes() {\n  const router = express.Router();\n\n  return router;\n}\n\n// All controllers/utility functions here\nasync function googleLogin(req, res) {}\n\nasync function me(req, res) {}\n\nfunction signout(req, res) {}\n\nexport { getAuthRoutes };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632298138565
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/user.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/user.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUserRoutes = getUserRoutes;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getUserRoutes() {\n  const router = _express.default.Router();\n\n  return router;\n}\n\nasync function getLikedVideos(req, res, next) {}\n\nasync function getHistory(req, res, next) {}\n\nasync function toggleSubscribe(req, res, next) {}\n\nasync function getFeed(req, res) {}\n\nasync function searchUser(req, res, next) {}\n\nasync function getRecommendedChannels(req, res) {}\n\nasync function getProfile(req, res, next) {}\n\nasync function editUser(req, res) {}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiZ2V0VXNlclJvdXRlcyIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXRMaWtlZFZpZGVvcyIsInJlcSIsInJlcyIsIm5leHQiLCJnZXRIaXN0b3J5IiwidG9nZ2xlU3Vic2NyaWJlIiwiZ2V0RmVlZCIsInNlYXJjaFVzZXIiLCJnZXRSZWNvbW1lbmRlZENoYW5uZWxzIiwiZ2V0UHJvZmlsZSIsImVkaXRVc2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxTQUFTQSxhQUFULEdBQXlCO0FBQ3ZCLFFBQU1DLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQSxTQUFPRixNQUFQO0FBQ0Q7O0FBRUQsZUFBZUcsY0FBZixDQUE4QkMsR0FBOUIsRUFBbUNDLEdBQW5DLEVBQXdDQyxJQUF4QyxFQUE4QyxDQUFFOztBQUVoRCxlQUFlQyxVQUFmLENBQTBCSCxHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDLENBQUU7O0FBRTVDLGVBQWVFLGVBQWYsQ0FBK0JKLEdBQS9CLEVBQW9DQyxHQUFwQyxFQUF5Q0MsSUFBekMsRUFBK0MsQ0FBRTs7QUFFakQsZUFBZUcsT0FBZixDQUF1QkwsR0FBdkIsRUFBNEJDLEdBQTVCLEVBQWlDLENBQUU7O0FBRW5DLGVBQWVLLFVBQWYsQ0FBMEJOLEdBQTFCLEVBQStCQyxHQUEvQixFQUFvQ0MsSUFBcEMsRUFBMEMsQ0FBRTs7QUFFNUMsZUFBZUssc0JBQWYsQ0FBc0NQLEdBQXRDLEVBQTJDQyxHQUEzQyxFQUFnRCxDQUFFOztBQUVsRCxlQUFlTyxVQUFmLENBQTBCUixHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDLENBQUU7O0FBRTVDLGVBQWVPLFFBQWYsQ0FBd0JULEdBQXhCLEVBQTZCQyxHQUE3QixFQUFrQyxDQUFFIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tZXJvai9EZXNrdG9wL0phdmFTY3JpcHQveW91dHViZS9zZXJ2ZXIvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuXG5mdW5jdGlvbiBnZXRVc2VyUm91dGVzKCkge1xuICBjb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4gIHJldHVybiByb3V0ZXI7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldExpa2VkVmlkZW9zKHJlcSwgcmVzLCBuZXh0KSB7fVxuXG5hc3luYyBmdW5jdGlvbiBnZXRIaXN0b3J5KHJlcSwgcmVzLCBuZXh0KSB7fVxuXG5hc3luYyBmdW5jdGlvbiB0b2dnbGVTdWJzY3JpYmUocmVxLCByZXMsIG5leHQpIHt9XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEZlZWQocmVxLCByZXMpIHt9XG5cbmFzeW5jIGZ1bmN0aW9uIHNlYXJjaFVzZXIocmVxLCByZXMsIG5leHQpIHt9XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFJlY29tbWVuZGVkQ2hhbm5lbHMocmVxLCByZXMpIHt9XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFByb2ZpbGUocmVxLCByZXMsIG5leHQpIHt9XG5cbmFzeW5jIGZ1bmN0aW9uIGVkaXRVc2VyKHJlcSwgcmVzKSB7fVxuXG5leHBvcnQgeyBnZXRVc2VyUm91dGVzIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "getUserRoutes",
        "router",
        "express",
        "Router",
        "getLikedVideos",
        "req",
        "res",
        "next",
        "getHistory",
        "toggleSubscribe",
        "getFeed",
        "searchUser",
        "getRecommendedChannels",
        "getProfile",
        "editUser"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,SAASA,aAAT,GAAyB;AACvB,QAAMC,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEA,SAAOF,MAAP;AACD;;AAED,eAAeG,cAAf,CAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,IAAxC,EAA8C,CAAE;;AAEhD,eAAeC,UAAf,CAA0BH,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC,EAA0C,CAAE;;AAE5C,eAAeE,eAAf,CAA+BJ,GAA/B,EAAoCC,GAApC,EAAyCC,IAAzC,EAA+C,CAAE;;AAEjD,eAAeG,OAAf,CAAuBL,GAAvB,EAA4BC,GAA5B,EAAiC,CAAE;;AAEnC,eAAeK,UAAf,CAA0BN,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC,EAA0C,CAAE;;AAE5C,eAAeK,sBAAf,CAAsCP,GAAtC,EAA2CC,GAA3C,EAAgD,CAAE;;AAElD,eAAeO,UAAf,CAA0BR,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC,EAA0C,CAAE;;AAE5C,eAAeO,QAAf,CAAwBT,GAAxB,EAA6BC,GAA7B,EAAkC,CAAE",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "sourcesContent": [
        "import express from \"express\";\n\nfunction getUserRoutes() {\n  const router = express.Router();\n\n  return router;\n}\n\nasync function getLikedVideos(req, res, next) {}\n\nasync function getHistory(req, res, next) {}\n\nasync function toggleSubscribe(req, res, next) {}\n\nasync function getFeed(req, res) {}\n\nasync function searchUser(req, res, next) {}\n\nasync function getRecommendedChannels(req, res) {}\n\nasync function getProfile(req, res, next) {}\n\nasync function editUser(req, res) {}\n\nexport { getUserRoutes };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632298138565
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/video.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/video.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/video.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/video.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
        "sourceFileName": "video.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getVideoRoutes = getVideoRoutes;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _client = require(\"@prisma/client\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst prisma = new _client.PrismaClient();\n\nfunction getVideoRoutes() {\n  const router = _express.default.Router();\n\n  router.get('/', getRecommendedVideos);\n  return router;\n}\n\nasync function getRecommendedVideos(req, res) {\n  let videos = await prisma.video.findMany({\n    include: {\n      user: true\n    },\n    orderBy: {\n      createdAt: \"desc\"\n    }\n  });\n\n  if (!videos.length) {\n    return res.status(200).json({\n      videos\n    });\n  }\n\n  res.status(200).json({\n    videos\n  });\n}\n\nasync function getTrendingVideos(req, res) {}\n\nasync function searchVideos(req, res, next) {}\n\nasync function addVideo(req, res) {}\n\nasync function addComment(req, res, next) {}\n\nasync function deleteComment(req, res) {}\n\nasync function addVideoView(req, res, next) {}\n\nasync function likeVideo(req, res, next) {}\n\nasync function dislikeVideo(req, res, next) {}\n\nasync function getVideo(req, res, next) {}\n\nasync function deleteVideo(req, res) {}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZGVvLmpzIl0sIm5hbWVzIjpbInByaXNtYSIsIlByaXNtYUNsaWVudCIsImdldFZpZGVvUm91dGVzIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImdldFJlY29tbWVuZGVkVmlkZW9zIiwicmVxIiwicmVzIiwidmlkZW9zIiwidmlkZW8iLCJmaW5kTWFueSIsImluY2x1ZGUiLCJ1c2VyIiwib3JkZXJCeSIsImNyZWF0ZWRBdCIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iLCJnZXRUcmVuZGluZ1ZpZGVvcyIsInNlYXJjaFZpZGVvcyIsIm5leHQiLCJhZGRWaWRlbyIsImFkZENvbW1lbnQiLCJkZWxldGVDb21tZW50IiwiYWRkVmlkZW9WaWV3IiwibGlrZVZpZGVvIiwiZGlzbGlrZVZpZGVvIiwiZ2V0VmlkZW8iLCJkZWxldGVWaWRlbyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLG9CQUFKLEVBQWY7O0FBRUEsU0FBU0MsY0FBVCxHQUEwQjtBQUN4QixRQUFNQyxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBRUFGLEVBQUFBLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0JDLG9CQUFoQjtBQUVBLFNBQU9KLE1BQVA7QUFDRDs7QUFFRCxlQUFlSSxvQkFBZixDQUFvQ0MsR0FBcEMsRUFBeUNDLEdBQXpDLEVBQThDO0FBQzVDLE1BQUlDLE1BQU0sR0FBRyxNQUFNVixNQUFNLENBQUNXLEtBQVAsQ0FBYUMsUUFBYixDQUFzQjtBQUN2Q0MsSUFBQUEsT0FBTyxFQUFFO0FBQ1BDLE1BQUFBLElBQUksRUFBRTtBQURDLEtBRDhCO0FBSXZDQyxJQUFBQSxPQUFPLEVBQUU7QUFDUEMsTUFBQUEsU0FBUyxFQUFFO0FBREo7QUFKOEIsR0FBdEIsQ0FBbkI7O0FBUUEsTUFBSSxDQUFDTixNQUFNLENBQUNPLE1BQVosRUFBb0I7QUFDbEIsV0FBT1IsR0FBRyxDQUFDUyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRVQsTUFBQUE7QUFBRixLQUFyQixDQUFQO0FBQ0Q7O0FBRURELEVBQUFBLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVULElBQUFBO0FBQUYsR0FBckI7QUFHRDs7QUFJRCxlQUFlVSxpQkFBZixDQUFpQ1osR0FBakMsRUFBc0NDLEdBQXRDLEVBQTJDLENBQUc7O0FBRTlDLGVBQWVZLFlBQWYsQ0FBNEJiLEdBQTVCLEVBQWlDQyxHQUFqQyxFQUFzQ2EsSUFBdEMsRUFBNEMsQ0FBRzs7QUFFL0MsZUFBZUMsUUFBZixDQUF3QmYsR0FBeEIsRUFBNkJDLEdBQTdCLEVBQWtDLENBQUc7O0FBRXJDLGVBQWVlLFVBQWYsQ0FBMEJoQixHQUExQixFQUErQkMsR0FBL0IsRUFBb0NhLElBQXBDLEVBQTBDLENBQUc7O0FBRTdDLGVBQWVHLGFBQWYsQ0FBNkJqQixHQUE3QixFQUFrQ0MsR0FBbEMsRUFBdUMsQ0FBRzs7QUFFMUMsZUFBZWlCLFlBQWYsQ0FBNEJsQixHQUE1QixFQUFpQ0MsR0FBakMsRUFBc0NhLElBQXRDLEVBQTRDLENBQUc7O0FBRS9DLGVBQWVLLFNBQWYsQ0FBeUJuQixHQUF6QixFQUE4QkMsR0FBOUIsRUFBbUNhLElBQW5DLEVBQXlDLENBQUc7O0FBRTVDLGVBQWVNLFlBQWYsQ0FBNEJwQixHQUE1QixFQUFpQ0MsR0FBakMsRUFBc0NhLElBQXRDLEVBQTRDLENBQUc7O0FBRS9DLGVBQWVPLFFBQWYsQ0FBd0JyQixHQUF4QixFQUE2QkMsR0FBN0IsRUFBa0NhLElBQWxDLEVBQXdDLENBQUc7O0FBRTNDLGVBQWVRLFdBQWYsQ0FBMkJ0QixHQUEzQixFQUFnQ0MsR0FBaEMsRUFBcUMsQ0FBRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWVyb2ovRGVza3RvcC9KYXZhU2NyaXB0L3lvdXR1YmUvc2VydmVyL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KClcblxuZnVuY3Rpb24gZ2V0VmlkZW9Sb3V0ZXMoKSB7XG4gIGNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbiAgcm91dGVyLmdldCgnLycsIGdldFJlY29tbWVuZGVkVmlkZW9zKVxuXG4gIHJldHVybiByb3V0ZXI7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFJlY29tbWVuZGVkVmlkZW9zKHJlcSwgcmVzKSB7XG4gIGxldCB2aWRlb3MgPSBhd2FpdCBwcmlzbWEudmlkZW8uZmluZE1hbnkoe1xuICAgIGluY2x1ZGU6IHtcbiAgICAgIHVzZXI6IHRydWVcbiAgICB9LFxuICAgIG9yZGVyQnk6IHtcbiAgICAgIGNyZWF0ZWRBdDogXCJkZXNjXCJcbiAgICB9XG4gIH0pXG4gIGlmICghdmlkZW9zLmxlbmd0aCkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHZpZGVvcyB9KVxuICB9XG5cbiAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB2aWRlb3MgfSlcblxuXG59XG5cblxuXG5hc3luYyBmdW5jdGlvbiBnZXRUcmVuZGluZ1ZpZGVvcyhyZXEsIHJlcykgeyB9XG5cbmFzeW5jIGZ1bmN0aW9uIHNlYXJjaFZpZGVvcyhyZXEsIHJlcywgbmV4dCkgeyB9XG5cbmFzeW5jIGZ1bmN0aW9uIGFkZFZpZGVvKHJlcSwgcmVzKSB7IH1cblxuYXN5bmMgZnVuY3Rpb24gYWRkQ29tbWVudChyZXEsIHJlcywgbmV4dCkgeyB9XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbW1lbnQocmVxLCByZXMpIHsgfVxuXG5hc3luYyBmdW5jdGlvbiBhZGRWaWRlb1ZpZXcocmVxLCByZXMsIG5leHQpIHsgfVxuXG5hc3luYyBmdW5jdGlvbiBsaWtlVmlkZW8ocmVxLCByZXMsIG5leHQpIHsgfVxuXG5hc3luYyBmdW5jdGlvbiBkaXNsaWtlVmlkZW8ocmVxLCByZXMsIG5leHQpIHsgfVxuXG5hc3luYyBmdW5jdGlvbiBnZXRWaWRlbyhyZXEsIHJlcywgbmV4dCkgeyB9XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVZpZGVvKHJlcSwgcmVzKSB7IH1cblxuZXhwb3J0IHsgZ2V0VmlkZW9Sb3V0ZXMgfTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "video.js"
      ],
      "names": [
        "prisma",
        "PrismaClient",
        "getVideoRoutes",
        "router",
        "express",
        "Router",
        "get",
        "getRecommendedVideos",
        "req",
        "res",
        "videos",
        "video",
        "findMany",
        "include",
        "user",
        "orderBy",
        "createdAt",
        "length",
        "status",
        "json",
        "getTrendingVideos",
        "searchVideos",
        "next",
        "addVideo",
        "addComment",
        "deleteComment",
        "addVideoView",
        "likeVideo",
        "dislikeVideo",
        "getVideo",
        "deleteVideo"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,IAAIC,oBAAJ,EAAf;;AAEA,SAASC,cAAT,GAA0B;AACxB,QAAMC,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,EAAAA,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,oBAAhB;AAEA,SAAOJ,MAAP;AACD;;AAED,eAAeI,oBAAf,CAAoCC,GAApC,EAAyCC,GAAzC,EAA8C;AAC5C,MAAIC,MAAM,GAAG,MAAMV,MAAM,CAACW,KAAP,CAAaC,QAAb,CAAsB;AACvCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAE;AADC,KAD8B;AAIvCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,SAAS,EAAE;AADJ;AAJ8B,GAAtB,CAAnB;;AAQA,MAAI,CAACN,MAAM,CAACO,MAAZ,EAAoB;AAClB,WAAOR,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAET,MAAAA;AAAF,KAArB,CAAP;AACD;;AAEDD,EAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAET,IAAAA;AAAF,GAArB;AAGD;;AAID,eAAeU,iBAAf,CAAiCZ,GAAjC,EAAsCC,GAAtC,EAA2C,CAAG;;AAE9C,eAAeY,YAAf,CAA4Bb,GAA5B,EAAiCC,GAAjC,EAAsCa,IAAtC,EAA4C,CAAG;;AAE/C,eAAeC,QAAf,CAAwBf,GAAxB,EAA6BC,GAA7B,EAAkC,CAAG;;AAErC,eAAee,UAAf,CAA0BhB,GAA1B,EAA+BC,GAA/B,EAAoCa,IAApC,EAA0C,CAAG;;AAE7C,eAAeG,aAAf,CAA6BjB,GAA7B,EAAkCC,GAAlC,EAAuC,CAAG;;AAE1C,eAAeiB,YAAf,CAA4BlB,GAA5B,EAAiCC,GAAjC,EAAsCa,IAAtC,EAA4C,CAAG;;AAE/C,eAAeK,SAAf,CAAyBnB,GAAzB,EAA8BC,GAA9B,EAAmCa,IAAnC,EAAyC,CAAG;;AAE5C,eAAeM,YAAf,CAA4BpB,GAA5B,EAAiCC,GAAjC,EAAsCa,IAAtC,EAA4C,CAAG;;AAE/C,eAAeO,QAAf,CAAwBrB,GAAxB,EAA6BC,GAA7B,EAAkCa,IAAlC,EAAwC,CAAG;;AAE3C,eAAeQ,WAAf,CAA2BtB,GAA3B,EAAgCC,GAAhC,EAAqC,CAAG",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "sourcesContent": [
        "import express from \"express\";\nimport { PrismaClient } from '@prisma/client'\n\nconst prisma = new PrismaClient()\n\nfunction getVideoRoutes() {\n  const router = express.Router();\n\n  router.get('/', getRecommendedVideos)\n\n  return router;\n}\n\nasync function getRecommendedVideos(req, res) {\n  let videos = await prisma.video.findMany({\n    include: {\n      user: true\n    },\n    orderBy: {\n      createdAt: \"desc\"\n    }\n  })\n  if (!videos.length) {\n    return res.status(200).json({ videos })\n  }\n\n  res.status(200).json({ videos })\n\n\n}\n\n\n\nasync function getTrendingVideos(req, res) { }\n\nasync function searchVideos(req, res, next) { }\n\nasync function addVideo(req, res) { }\n\nasync function addComment(req, res, next) { }\n\nasync function deleteComment(req, res) { }\n\nasync function addVideoView(req, res, next) { }\n\nasync function likeVideo(req, res, next) { }\n\nasync function dislikeVideo(req, res, next) { }\n\nasync function getVideo(req, res, next) { }\n\nasync function deleteVideo(req, res) { }\n\nexport { getVideoRoutes };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632471024253
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/error.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/error.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/error.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/error.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
        "sourceFileName": "error.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errorMiddleware = errorMiddleware;\nexports.setupCloseOnExit = setupCloseOnExit;\n\nvar _loglevel = _interopRequireDefault(require(\"loglevel\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Middleware that will help us catch generic express-related errors\nfunction errorMiddleware(error, req, res, next) {\n  if (res.headersSent) {\n    next(error);\n  } else {\n    _loglevel.default.error(error);\n\n    res.status(error.statusCode || 500);\n    res.json({\n      message: error.message,\n      ...(process.env.NODE_ENV === \"production\" ? null : {\n        stack: error.stack\n      })\n    });\n  }\n} // This closes the server in the event of an error so\n// that our requests do not hang\n\n\nfunction setupCloseOnExit(server) {\n  async function exitHandler(options = {}) {\n    await server.close().then(() => {\n      _loglevel.default.info(\"Server successfully closed\");\n    }).catch(error => {\n      _loglevel.default.warn(\"Something went wrong closing the server\", error.stack);\n    });\n    if (options.exit) process.exit();\n  } // Do something when app is closing\n\n\n  process.on(\"exit\", exitHandler); // Catches ctrl+c event\n\n  process.on(\"SIGINT\", exitHandler.bind(null, {\n    exit: true\n  })); // Catches \"kill pid\" (for example: nodemon restart)\n\n  process.on(\"SIGUSR1\", exitHandler.bind(null, {\n    exit: true\n  }));\n  process.on(\"SIGUSR2\", exitHandler.bind(null, {\n    exit: true\n  })); // Catches uncaught exceptions\n\n  process.on(\"uncaughtException\", exitHandler.bind(null, {\n    exit: true\n  }));\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLmpzIl0sIm5hbWVzIjpbImVycm9yTWlkZGxld2FyZSIsImVycm9yIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnNTZW50IiwibG9nZ2VyIiwic3RhdHVzIiwic3RhdHVzQ29kZSIsImpzb24iLCJtZXNzYWdlIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwic3RhY2siLCJzZXR1cENsb3NlT25FeGl0Iiwic2VydmVyIiwiZXhpdEhhbmRsZXIiLCJvcHRpb25zIiwiY2xvc2UiLCJ0aGVuIiwiaW5mbyIsImNhdGNoIiwid2FybiIsImV4aXQiLCJvbiIsImJpbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFFQTtBQUNBLFNBQVNBLGVBQVQsQ0FBeUJDLEtBQXpCLEVBQWdDQyxHQUFoQyxFQUFxQ0MsR0FBckMsRUFBMENDLElBQTFDLEVBQWdEO0FBQzlDLE1BQUlELEdBQUcsQ0FBQ0UsV0FBUixFQUFxQjtBQUNuQkQsSUFBQUEsSUFBSSxDQUFDSCxLQUFELENBQUo7QUFDRCxHQUZELE1BRU87QUFDTEssc0JBQU9MLEtBQVAsQ0FBYUEsS0FBYjs7QUFDQUUsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVdOLEtBQUssQ0FBQ08sVUFBTixJQUFvQixHQUEvQjtBQUNBTCxJQUFBQSxHQUFHLENBQUNNLElBQUosQ0FBUztBQUNQQyxNQUFBQSxPQUFPLEVBQUVULEtBQUssQ0FBQ1MsT0FEUjtBQUVQLFVBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQXpCLEdBQ0EsSUFEQSxHQUVBO0FBQUVDLFFBQUFBLEtBQUssRUFBRWIsS0FBSyxDQUFDYTtBQUFmLE9BRko7QUFGTyxLQUFUO0FBTUQ7QUFDRixDLENBRUQ7QUFDQTs7O0FBQ0EsU0FBU0MsZ0JBQVQsQ0FBMEJDLE1BQTFCLEVBQWtDO0FBQ2hDLGlCQUFlQyxXQUFmLENBQTJCQyxPQUFPLEdBQUcsRUFBckMsRUFBeUM7QUFDdkMsVUFBTUYsTUFBTSxDQUNURyxLQURHLEdBRUhDLElBRkcsQ0FFRSxNQUFNO0FBQ1ZkLHdCQUFPZSxJQUFQLENBQVksNEJBQVo7QUFDRCxLQUpHLEVBS0hDLEtBTEcsQ0FLSXJCLEtBQUQsSUFBVztBQUNoQkssd0JBQU9pQixJQUFQLENBQVkseUNBQVosRUFBdUR0QixLQUFLLENBQUNhLEtBQTdEO0FBQ0QsS0FQRyxDQUFOO0FBUUEsUUFBSUksT0FBTyxDQUFDTSxJQUFaLEVBQWtCYixPQUFPLENBQUNhLElBQVI7QUFDbkIsR0FYK0IsQ0FZaEM7OztBQUNBYixFQUFBQSxPQUFPLENBQUNjLEVBQVIsQ0FBVyxNQUFYLEVBQW1CUixXQUFuQixFQWJnQyxDQWNoQzs7QUFDQU4sRUFBQUEsT0FBTyxDQUFDYyxFQUFSLENBQVcsUUFBWCxFQUFxQlIsV0FBVyxDQUFDUyxJQUFaLENBQWlCLElBQWpCLEVBQXVCO0FBQUVGLElBQUFBLElBQUksRUFBRTtBQUFSLEdBQXZCLENBQXJCLEVBZmdDLENBZ0JoQzs7QUFDQWIsRUFBQUEsT0FBTyxDQUFDYyxFQUFSLENBQVcsU0FBWCxFQUFzQlIsV0FBVyxDQUFDUyxJQUFaLENBQWlCLElBQWpCLEVBQXVCO0FBQUVGLElBQUFBLElBQUksRUFBRTtBQUFSLEdBQXZCLENBQXRCO0FBQ0FiLEVBQUFBLE9BQU8sQ0FBQ2MsRUFBUixDQUFXLFNBQVgsRUFBc0JSLFdBQVcsQ0FBQ1MsSUFBWixDQUFpQixJQUFqQixFQUF1QjtBQUFFRixJQUFBQSxJQUFJLEVBQUU7QUFBUixHQUF2QixDQUF0QixFQWxCZ0MsQ0FtQmhDOztBQUNBYixFQUFBQSxPQUFPLENBQUNjLEVBQVIsQ0FBVyxtQkFBWCxFQUFnQ1IsV0FBVyxDQUFDUyxJQUFaLENBQWlCLElBQWpCLEVBQXVCO0FBQUVGLElBQUFBLElBQUksRUFBRTtBQUFSLEdBQXZCLENBQWhDO0FBQ0QiLCJzb3VyY2VSb290IjoiL1VzZXJzL21lcm9qL0Rlc2t0b3AvSmF2YVNjcmlwdC95b3V0dWJlL3NlcnZlci9zcmMvbWlkZGxld2FyZS8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nZ2VyIGZyb20gXCJsb2dsZXZlbFwiO1xuXG4vLyBNaWRkbGV3YXJlIHRoYXQgd2lsbCBoZWxwIHVzIGNhdGNoIGdlbmVyaWMgZXhwcmVzcy1yZWxhdGVkIGVycm9yc1xuZnVuY3Rpb24gZXJyb3JNaWRkbGV3YXJlKGVycm9yLCByZXEsIHJlcywgbmV4dCkge1xuICBpZiAocmVzLmhlYWRlcnNTZW50KSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH0gZWxzZSB7XG4gICAgbG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgICByZXMuc3RhdHVzKGVycm9yLnN0YXR1c0NvZGUgfHwgNTAwKTtcbiAgICByZXMuanNvbih7XG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgLi4uKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIlxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiB7IHN0YWNrOiBlcnJvci5zdGFjayB9KSxcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBUaGlzIGNsb3NlcyB0aGUgc2VydmVyIGluIHRoZSBldmVudCBvZiBhbiBlcnJvciBzb1xuLy8gdGhhdCBvdXIgcmVxdWVzdHMgZG8gbm90IGhhbmdcbmZ1bmN0aW9uIHNldHVwQ2xvc2VPbkV4aXQoc2VydmVyKSB7XG4gIGFzeW5jIGZ1bmN0aW9uIGV4aXRIYW5kbGVyKG9wdGlvbnMgPSB7fSkge1xuICAgIGF3YWl0IHNlcnZlclxuICAgICAgLmNsb3NlKClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJTZXJ2ZXIgc3VjY2Vzc2Z1bGx5IGNsb3NlZFwiKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiU29tZXRoaW5nIHdlbnQgd3JvbmcgY2xvc2luZyB0aGUgc2VydmVyXCIsIGVycm9yLnN0YWNrKTtcbiAgICAgIH0pO1xuICAgIGlmIChvcHRpb25zLmV4aXQpIHByb2Nlc3MuZXhpdCgpO1xuICB9XG4gIC8vIERvIHNvbWV0aGluZyB3aGVuIGFwcCBpcyBjbG9zaW5nXG4gIHByb2Nlc3Mub24oXCJleGl0XCIsIGV4aXRIYW5kbGVyKTtcbiAgLy8gQ2F0Y2hlcyBjdHJsK2MgZXZlbnRcbiAgcHJvY2Vzcy5vbihcIlNJR0lOVFwiLCBleGl0SGFuZGxlci5iaW5kKG51bGwsIHsgZXhpdDogdHJ1ZSB9KSk7XG4gIC8vIENhdGNoZXMgXCJraWxsIHBpZFwiIChmb3IgZXhhbXBsZTogbm9kZW1vbiByZXN0YXJ0KVxuICBwcm9jZXNzLm9uKFwiU0lHVVNSMVwiLCBleGl0SGFuZGxlci5iaW5kKG51bGwsIHsgZXhpdDogdHJ1ZSB9KSk7XG4gIHByb2Nlc3Mub24oXCJTSUdVU1IyXCIsIGV4aXRIYW5kbGVyLmJpbmQobnVsbCwgeyBleGl0OiB0cnVlIH0pKTtcbiAgLy8gQ2F0Y2hlcyB1bmNhdWdodCBleGNlcHRpb25zXG4gIHByb2Nlc3Mub24oXCJ1bmNhdWdodEV4Y2VwdGlvblwiLCBleGl0SGFuZGxlci5iaW5kKG51bGwsIHsgZXhpdDogdHJ1ZSB9KSk7XG59XG5cbmV4cG9ydCB7IGVycm9yTWlkZGxld2FyZSwgc2V0dXBDbG9zZU9uRXhpdCB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "error.js"
      ],
      "names": [
        "errorMiddleware",
        "error",
        "req",
        "res",
        "next",
        "headersSent",
        "logger",
        "status",
        "statusCode",
        "json",
        "message",
        "process",
        "env",
        "NODE_ENV",
        "stack",
        "setupCloseOnExit",
        "server",
        "exitHandler",
        "options",
        "close",
        "then",
        "info",
        "catch",
        "warn",
        "exit",
        "on",
        "bind"
      ],
      "mappings": ";;;;;;;;AAAA;;;;AAEA;AACA,SAASA,eAAT,CAAyBC,KAAzB,EAAgCC,GAAhC,EAAqCC,GAArC,EAA0CC,IAA1C,EAAgD;AAC9C,MAAID,GAAG,CAACE,WAAR,EAAqB;AACnBD,IAAAA,IAAI,CAACH,KAAD,CAAJ;AACD,GAFD,MAEO;AACLK,sBAAOL,KAAP,CAAaA,KAAb;;AACAE,IAAAA,GAAG,CAACI,MAAJ,CAAWN,KAAK,CAACO,UAAN,IAAoB,GAA/B;AACAL,IAAAA,GAAG,CAACM,IAAJ,CAAS;AACPC,MAAAA,OAAO,EAAET,KAAK,CAACS,OADR;AAEP,UAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACA,IADA,GAEA;AAAEC,QAAAA,KAAK,EAAEb,KAAK,CAACa;AAAf,OAFJ;AAFO,KAAT;AAMD;AACF,C,CAED;AACA;;;AACA,SAASC,gBAAT,CAA0BC,MAA1B,EAAkC;AAChC,iBAAeC,WAAf,CAA2BC,OAAO,GAAG,EAArC,EAAyC;AACvC,UAAMF,MAAM,CACTG,KADG,GAEHC,IAFG,CAEE,MAAM;AACVd,wBAAOe,IAAP,CAAY,4BAAZ;AACD,KAJG,EAKHC,KALG,CAKIrB,KAAD,IAAW;AAChBK,wBAAOiB,IAAP,CAAY,yCAAZ,EAAuDtB,KAAK,CAACa,KAA7D;AACD,KAPG,CAAN;AAQA,QAAII,OAAO,CAACM,IAAZ,EAAkBb,OAAO,CAACa,IAAR;AACnB,GAX+B,CAYhC;;;AACAb,EAAAA,OAAO,CAACc,EAAR,CAAW,MAAX,EAAmBR,WAAnB,EAbgC,CAchC;;AACAN,EAAAA,OAAO,CAACc,EAAR,CAAW,QAAX,EAAqBR,WAAW,CAACS,IAAZ,CAAiB,IAAjB,EAAuB;AAAEF,IAAAA,IAAI,EAAE;AAAR,GAAvB,CAArB,EAfgC,CAgBhC;;AACAb,EAAAA,OAAO,CAACc,EAAR,CAAW,SAAX,EAAsBR,WAAW,CAACS,IAAZ,CAAiB,IAAjB,EAAuB;AAAEF,IAAAA,IAAI,EAAE;AAAR,GAAvB,CAAtB;AACAb,EAAAA,OAAO,CAACc,EAAR,CAAW,SAAX,EAAsBR,WAAW,CAACS,IAAZ,CAAiB,IAAjB,EAAuB;AAAEF,IAAAA,IAAI,EAAE;AAAR,GAAvB,CAAtB,EAlBgC,CAmBhC;;AACAb,EAAAA,OAAO,CAACc,EAAR,CAAW,mBAAX,EAAgCR,WAAW,CAACS,IAAZ,CAAiB,IAAjB,EAAuB;AAAEF,IAAAA,IAAI,EAAE;AAAR,GAAvB,CAAhC;AACD",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
      "sourcesContent": [
        "import logger from \"loglevel\";\n\n// Middleware that will help us catch generic express-related errors\nfunction errorMiddleware(error, req, res, next) {\n  if (res.headersSent) {\n    next(error);\n  } else {\n    logger.error(error);\n    res.status(error.statusCode || 500);\n    res.json({\n      message: error.message,\n      ...(process.env.NODE_ENV === \"production\"\n        ? null\n        : { stack: error.stack }),\n    });\n  }\n}\n\n// This closes the server in the event of an error so\n// that our requests do not hang\nfunction setupCloseOnExit(server) {\n  async function exitHandler(options = {}) {\n    await server\n      .close()\n      .then(() => {\n        logger.info(\"Server successfully closed\");\n      })\n      .catch((error) => {\n        logger.warn(\"Something went wrong closing the server\", error.stack);\n      });\n    if (options.exit) process.exit();\n  }\n  // Do something when app is closing\n  process.on(\"exit\", exitHandler);\n  // Catches ctrl+c event\n  process.on(\"SIGINT\", exitHandler.bind(null, { exit: true }));\n  // Catches \"kill pid\" (for example: nodemon restart)\n  process.on(\"SIGUSR1\", exitHandler.bind(null, { exit: true }));\n  process.on(\"SIGUSR2\", exitHandler.bind(null, { exit: true }));\n  // Catches uncaught exceptions\n  process.on(\"uncaughtException\", exitHandler.bind(null, { exit: true }));\n}\n\nexport { errorMiddleware, setupCloseOnExit };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632298138565
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/start.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/start.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/start.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/start.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/",
        "sourceFileName": "start.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startServer = startServer;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nrequire(\"express-async-errors\");\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _loglevel = _interopRequireDefault(require(\"loglevel\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _cookieParser = _interopRequireDefault(require(\"cookie-parser\"));\n\nvar _routes = require(\"./routes\");\n\nvar _error = require(\"./middleware/error\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Import this module to handle errors when using async functions for our route handlers\n_dotenv.default.config();\n\nfunction startServer({\n  port = process.env.PORT\n} = {}) {\n  const app = (0, _express.default)();\n  app.use((0, _morgan.default)(\"dev\"));\n  app.use((0, _cors.default)());\n  app.use((0, _cookieParser.default)());\n  app.use(_express.default.json()); // all API routes are prefixed with /api/v1\n\n  app.use(\"/api/v1\", (0, _routes.getRoutes)()); // Generic error handler if errors are missed by 'express-async-errors' middleware\n\n  app.use(_error.errorMiddleware); // When our project is pushed to production, we will serve // the react app using express.static() middleware\n\n  if (process.env.NODE_ENV === \"production\") {\n    app.use(_express.default.static(_path.default.resolve(__dirname, \"../client/build\"))); // Any request not caught by our API will be routed\n    // to our built react app\n\n    app.get(\"*\", function (req, res) {\n      res.sendFile(_path.default.resolve(__dirname, \"../client/build\", \"index.html\"));\n    });\n  } // This block of code is made to reliably start and close our express app\n  // It is written as a promise, which can be more easily tested\n\n\n  return new Promise(resolve => {\n    const server = app.listen(port, () => {\n      _loglevel.default.info(`Listening on port ${server.address().port}`);\n\n      const originalClose = server.close.bind(server);\n\n      server.close = () => {\n        return new Promise(resolveClose => {\n          originalClose(resolveClose);\n        });\n      }; // This function properly closes the server when the program exits\n\n\n      (0, _error.setupCloseOnExit)(server);\n      resolve(server);\n    });\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXJ0LmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsInN0YXJ0U2VydmVyIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwiYXBwIiwidXNlIiwiZXhwcmVzcyIsImpzb24iLCJlcnJvck1pZGRsZXdhcmUiLCJOT0RFX0VOViIsInN0YXRpYyIsInBhdGgiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZEZpbGUiLCJQcm9taXNlIiwic2VydmVyIiwibGlzdGVuIiwibG9nZ2VyIiwiaW5mbyIsImFkZHJlc3MiLCJvcmlnaW5hbENsb3NlIiwiY2xvc2UiLCJiaW5kIiwicmVzb2x2ZUNsb3NlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7Ozs7QUFWQTtBQVlBQSxnQkFBT0MsTUFBUDs7QUFFQSxTQUFTQyxXQUFULENBQXFCO0FBQUVDLEVBQUFBLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDO0FBQXJCLElBQThCLEVBQW5ELEVBQXVEO0FBQ3JELFFBQU1DLEdBQUcsR0FBRyx1QkFBWjtBQUNBQSxFQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FBUSxxQkFBTyxLQUFQLENBQVI7QUFDQUQsRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0JBQVI7QUFDQUQsRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsNEJBQVI7QUFDQUQsRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRQyxJQUFSLEVBQVIsRUFMcUQsQ0FNckQ7O0FBQ0FILEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFNBQVIsRUFBbUIsd0JBQW5CLEVBUHFELENBU3JEOztBQUNBRCxFQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUcsc0JBQVIsRUFWcUQsQ0FZckQ7O0FBQ0EsTUFBSVAsT0FBTyxDQUFDQyxHQUFSLENBQVlPLFFBQVosS0FBeUIsWUFBN0IsRUFBMkM7QUFDekNMLElBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRQyxpQkFBUUksTUFBUixDQUFlQyxjQUFLQyxPQUFMLENBQWFDLFNBQWIsRUFBd0IsaUJBQXhCLENBQWYsQ0FBUixFQUR5QyxDQUd6QztBQUNBOztBQUNBVCxJQUFBQSxHQUFHLENBQUNVLEdBQUosQ0FBUSxHQUFSLEVBQWEsVUFBVUMsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQy9CQSxNQUFBQSxHQUFHLENBQUNDLFFBQUosQ0FBYU4sY0FBS0MsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLGlCQUF4QixFQUEyQyxZQUEzQyxDQUFiO0FBQ0QsS0FGRDtBQUdELEdBckJvRCxDQXVCckQ7QUFDQTs7O0FBQ0EsU0FBTyxJQUFJSyxPQUFKLENBQWFOLE9BQUQsSUFBYTtBQUM5QixVQUFNTyxNQUFNLEdBQUdmLEdBQUcsQ0FBQ2dCLE1BQUosQ0FBV3BCLElBQVgsRUFBaUIsTUFBTTtBQUNwQ3FCLHdCQUFPQyxJQUFQLENBQWEscUJBQW9CSCxNQUFNLENBQUNJLE9BQVAsR0FBaUJ2QixJQUFLLEVBQXZEOztBQUVBLFlBQU13QixhQUFhLEdBQUdMLE1BQU0sQ0FBQ00sS0FBUCxDQUFhQyxJQUFiLENBQWtCUCxNQUFsQixDQUF0Qjs7QUFDQUEsTUFBQUEsTUFBTSxDQUFDTSxLQUFQLEdBQWUsTUFBTTtBQUNuQixlQUFPLElBQUlQLE9BQUosQ0FBYVMsWUFBRCxJQUFrQjtBQUNuQ0gsVUFBQUEsYUFBYSxDQUFDRyxZQUFELENBQWI7QUFDRCxTQUZNLENBQVA7QUFHRCxPQUpELENBSm9DLENBU3BDOzs7QUFDQSxtQ0FBaUJSLE1BQWpCO0FBQ0FQLE1BQUFBLE9BQU8sQ0FBQ08sTUFBRCxDQUFQO0FBQ0QsS0FaYyxDQUFmO0FBYUQsR0FkTSxDQUFQO0FBZUQiLCJzb3VyY2VSb290IjoiL1VzZXJzL21lcm9qL0Rlc2t0b3AvSmF2YVNjcmlwdC95b3V0dWJlL3NlcnZlci9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbi8vIEltcG9ydCB0aGlzIG1vZHVsZSB0byBoYW5kbGUgZXJyb3JzIHdoZW4gdXNpbmcgYXN5bmMgZnVuY3Rpb25zIGZvciBvdXIgcm91dGUgaGFuZGxlcnNcbmltcG9ydCBcImV4cHJlc3MtYXN5bmMtZXJyb3JzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcImxvZ2xldmVsXCI7XG5pbXBvcnQgbW9yZ2FuIGZyb20gXCJtb3JnYW5cIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tIFwiY29va2llLXBhcnNlclwiO1xuXG5pbXBvcnQgeyBnZXRSb3V0ZXMgfSBmcm9tIFwiLi9yb3V0ZXNcIjtcbmltcG9ydCB7IGVycm9yTWlkZGxld2FyZSwgc2V0dXBDbG9zZU9uRXhpdCB9IGZyb20gXCIuL21pZGRsZXdhcmUvZXJyb3JcIjtcblxuZG90ZW52LmNvbmZpZygpO1xuXG5mdW5jdGlvbiBzdGFydFNlcnZlcih7IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIH0gPSB7fSkge1xuICBjb25zdCBhcHAgPSBleHByZXNzKCk7XG4gIGFwcC51c2UobW9yZ2FuKFwiZGV2XCIpKTtcbiAgYXBwLnVzZShjb3JzKCkpO1xuICBhcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcbiAgYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG4gIC8vIGFsbCBBUEkgcm91dGVzIGFyZSBwcmVmaXhlZCB3aXRoIC9hcGkvdjFcbiAgYXBwLnVzZShcIi9hcGkvdjFcIiwgZ2V0Um91dGVzKCkpO1xuXG4gIC8vIEdlbmVyaWMgZXJyb3IgaGFuZGxlciBpZiBlcnJvcnMgYXJlIG1pc3NlZCBieSAnZXhwcmVzcy1hc3luYy1lcnJvcnMnIG1pZGRsZXdhcmVcbiAgYXBwLnVzZShlcnJvck1pZGRsZXdhcmUpO1xuXG4gIC8vIFdoZW4gb3VyIHByb2plY3QgaXMgcHVzaGVkIHRvIHByb2R1Y3Rpb24sIHdlIHdpbGwgc2VydmUgLy8gdGhlIHJlYWN0IGFwcCB1c2luZyBleHByZXNzLnN0YXRpYygpIG1pZGRsZXdhcmVcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCIuLi9jbGllbnQvYnVpbGRcIikpKTtcblxuICAgIC8vIEFueSByZXF1ZXN0IG5vdCBjYXVnaHQgYnkgb3VyIEFQSSB3aWxsIGJlIHJvdXRlZFxuICAgIC8vIHRvIG91ciBidWlsdCByZWFjdCBhcHBcbiAgICBhcHAuZ2V0KFwiKlwiLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgICAgIHJlcy5zZW5kRmlsZShwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcIi4uL2NsaWVudC9idWlsZFwiLCBcImluZGV4Lmh0bWxcIikpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gVGhpcyBibG9jayBvZiBjb2RlIGlzIG1hZGUgdG8gcmVsaWFibHkgc3RhcnQgYW5kIGNsb3NlIG91ciBleHByZXNzIGFwcFxuICAvLyBJdCBpcyB3cml0dGVuIGFzIGEgcHJvbWlzZSwgd2hpY2ggY2FuIGJlIG1vcmUgZWFzaWx5IHRlc3RlZFxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBzZXJ2ZXIgPSBhcHAubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgICAgIGxvZ2dlci5pbmZvKGBMaXN0ZW5pbmcgb24gcG9ydCAke3NlcnZlci5hZGRyZXNzKCkucG9ydH1gKTtcblxuICAgICAgY29uc3Qgb3JpZ2luYWxDbG9zZSA9IHNlcnZlci5jbG9zZS5iaW5kKHNlcnZlcik7XG4gICAgICBzZXJ2ZXIuY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZUNsb3NlKSA9PiB7XG4gICAgICAgICAgb3JpZ2luYWxDbG9zZShyZXNvbHZlQ2xvc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICAvLyBUaGlzIGZ1bmN0aW9uIHByb3Blcmx5IGNsb3NlcyB0aGUgc2VydmVyIHdoZW4gdGhlIHByb2dyYW0gZXhpdHNcbiAgICAgIHNldHVwQ2xvc2VPbkV4aXQoc2VydmVyKTtcbiAgICAgIHJlc29sdmUoc2VydmVyKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IHN0YXJ0U2VydmVyIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "start.js"
      ],
      "names": [
        "dotenv",
        "config",
        "startServer",
        "port",
        "process",
        "env",
        "PORT",
        "app",
        "use",
        "express",
        "json",
        "errorMiddleware",
        "NODE_ENV",
        "static",
        "path",
        "resolve",
        "__dirname",
        "get",
        "req",
        "res",
        "sendFile",
        "Promise",
        "server",
        "listen",
        "logger",
        "info",
        "address",
        "originalClose",
        "close",
        "bind",
        "resolveClose"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;AAVA;AAYAA,gBAAOC,MAAP;;AAEA,SAASC,WAAT,CAAqB;AAAEC,EAAAA,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC;AAArB,IAA8B,EAAnD,EAAuD;AACrD,QAAMC,GAAG,GAAG,uBAAZ;AACAA,EAAAA,GAAG,CAACC,GAAJ,CAAQ,qBAAO,KAAP,CAAR;AACAD,EAAAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,EAAAA,GAAG,CAACC,GAAJ,CAAQ,4BAAR;AACAD,EAAAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,EAAR,EALqD,CAMrD;;AACAH,EAAAA,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmB,wBAAnB,EAPqD,CASrD;;AACAD,EAAAA,GAAG,CAACC,GAAJ,CAAQG,sBAAR,EAVqD,CAYrD;;AACA,MAAIP,OAAO,CAACC,GAAR,CAAYO,QAAZ,KAAyB,YAA7B,EAA2C;AACzCL,IAAAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQI,MAAR,CAAeC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,iBAAxB,CAAf,CAAR,EADyC,CAGzC;AACA;;AACAT,IAAAA,GAAG,CAACU,GAAJ,CAAQ,GAAR,EAAa,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC/BA,MAAAA,GAAG,CAACC,QAAJ,CAAaN,cAAKC,OAAL,CAAaC,SAAb,EAAwB,iBAAxB,EAA2C,YAA3C,CAAb;AACD,KAFD;AAGD,GArBoD,CAuBrD;AACA;;;AACA,SAAO,IAAIK,OAAJ,CAAaN,OAAD,IAAa;AAC9B,UAAMO,MAAM,GAAGf,GAAG,CAACgB,MAAJ,CAAWpB,IAAX,EAAiB,MAAM;AACpCqB,wBAAOC,IAAP,CAAa,qBAAoBH,MAAM,CAACI,OAAP,GAAiBvB,IAAK,EAAvD;;AAEA,YAAMwB,aAAa,GAAGL,MAAM,CAACM,KAAP,CAAaC,IAAb,CAAkBP,MAAlB,CAAtB;;AACAA,MAAAA,MAAM,CAACM,KAAP,GAAe,MAAM;AACnB,eAAO,IAAIP,OAAJ,CAAaS,YAAD,IAAkB;AACnCH,UAAAA,aAAa,CAACG,YAAD,CAAb;AACD,SAFM,CAAP;AAGD,OAJD,CAJoC,CASpC;;;AACA,mCAAiBR,MAAjB;AACAP,MAAAA,OAAO,CAACO,MAAD,CAAP;AACD,KAZc,CAAf;AAaD,GAdM,CAAP;AAeD",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/",
      "sourcesContent": [
        "import express from \"express\";\n// Import this module to handle errors when using async functions for our route handlers\nimport \"express-async-errors\";\nimport path from \"path\";\nimport cors from \"cors\";\nimport logger from \"loglevel\";\nimport morgan from \"morgan\";\nimport dotenv from \"dotenv\";\nimport cookieParser from \"cookie-parser\";\n\nimport { getRoutes } from \"./routes\";\nimport { errorMiddleware, setupCloseOnExit } from \"./middleware/error\";\n\ndotenv.config();\n\nfunction startServer({ port = process.env.PORT } = {}) {\n  const app = express();\n  app.use(morgan(\"dev\"));\n  app.use(cors());\n  app.use(cookieParser());\n  app.use(express.json());\n  // all API routes are prefixed with /api/v1\n  app.use(\"/api/v1\", getRoutes());\n\n  // Generic error handler if errors are missed by 'express-async-errors' middleware\n  app.use(errorMiddleware);\n\n  // When our project is pushed to production, we will serve // the react app using express.static() middleware\n  if (process.env.NODE_ENV === \"production\") {\n    app.use(express.static(path.resolve(__dirname, \"../client/build\")));\n\n    // Any request not caught by our API will be routed\n    // to our built react app\n    app.get(\"*\", function (req, res) {\n      res.sendFile(path.resolve(__dirname, \"../client/build\", \"index.html\"));\n    });\n  }\n\n  // This block of code is made to reliably start and close our express app\n  // It is written as a promise, which can be more easily tested\n  return new Promise((resolve) => {\n    const server = app.listen(port, () => {\n      logger.info(`Listening on port ${server.address().port}`);\n\n      const originalClose = server.close.bind(server);\n      server.close = () => {\n        return new Promise((resolveClose) => {\n          originalClose(resolveClose);\n        });\n      };\n      // This function properly closes the server when the program exits\n      setupCloseOnExit(server);\n      resolve(server);\n    });\n  });\n}\n\nexport { startServer };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632298138565
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/index.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getRoutes = getRoutes;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _auth = require(\"./auth\");\n\nvar _user = require(\"./user\");\n\nvar _video = require(\"./video\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getRoutes() {\n  // All routes in our Node API are placed on this router\n  const router = _express.default.Router(); // router.use() prefixes our route (i.e. /api/v1/auth)\n\n\n  router.use(\"/auth\", (0, _auth.getAuthRoutes)());\n  router.use(\"/users\", (0, _user.getUserRoutes)());\n  router.use(\"/videos\", (0, _video.getVideoRoutes)());\n  return router;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImdldFJvdXRlcyIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFDQTs7QUFDQTs7OztBQUVBLFNBQVNBLFNBQVQsR0FBcUI7QUFDbkI7QUFDQSxRQUFNQyxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWYsQ0FGbUIsQ0FJbkI7OztBQUNBRixFQUFBQSxNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CLDBCQUFwQjtBQUNBSCxFQUFBQSxNQUFNLENBQUNHLEdBQVAsQ0FBVyxRQUFYLEVBQXFCLDBCQUFyQjtBQUNBSCxFQUFBQSxNQUFNLENBQUNHLEdBQVAsQ0FBVyxTQUFYLEVBQXNCLDRCQUF0QjtBQUVBLFNBQU9ILE1BQVA7QUFDRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWVyb2ovRGVza3RvcC9KYXZhU2NyaXB0L3lvdXR1YmUvc2VydmVyL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcblxuaW1wb3J0IHsgZ2V0QXV0aFJvdXRlcyB9IGZyb20gXCIuL2F1dGhcIjtcbmltcG9ydCB7IGdldFVzZXJSb3V0ZXMgfSBmcm9tIFwiLi91c2VyXCI7XG5pbXBvcnQgeyBnZXRWaWRlb1JvdXRlcyB9IGZyb20gXCIuL3ZpZGVvXCI7XG5cbmZ1bmN0aW9uIGdldFJvdXRlcygpIHtcbiAgLy8gQWxsIHJvdXRlcyBpbiBvdXIgTm9kZSBBUEkgYXJlIHBsYWNlZCBvbiB0aGlzIHJvdXRlclxuICBjb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4gIC8vIHJvdXRlci51c2UoKSBwcmVmaXhlcyBvdXIgcm91dGUgKGkuZS4gL2FwaS92MS9hdXRoKVxuICByb3V0ZXIudXNlKFwiL2F1dGhcIiwgZ2V0QXV0aFJvdXRlcygpKTtcbiAgcm91dGVyLnVzZShcIi91c2Vyc1wiLCBnZXRVc2VyUm91dGVzKCkpO1xuICByb3V0ZXIudXNlKFwiL3ZpZGVvc1wiLCBnZXRWaWRlb1JvdXRlcygpKTtcblxuICByZXR1cm4gcm91dGVyO1xufVxuXG5leHBvcnQgeyBnZXRSb3V0ZXMgfTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "getRoutes",
        "router",
        "express",
        "Router",
        "use"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;AACA;;AACA;;;;AAEA,SAASA,SAAT,GAAqB;AACnB;AACA,QAAMC,MAAM,GAAGC,iBAAQC,MAAR,EAAf,CAFmB,CAInB;;;AACAF,EAAAA,MAAM,CAACG,GAAP,CAAW,OAAX,EAAoB,0BAApB;AACAH,EAAAA,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqB,0BAArB;AACAH,EAAAA,MAAM,CAACG,GAAP,CAAW,SAAX,EAAsB,4BAAtB;AAEA,SAAOH,MAAP;AACD",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "sourcesContent": [
        "import express from \"express\";\n\nimport { getAuthRoutes } from \"./auth\";\nimport { getUserRoutes } from \"./user\";\nimport { getVideoRoutes } from \"./video\";\n\nfunction getRoutes() {\n  // All routes in our Node API are placed on this router\n  const router = express.Router();\n\n  // router.use() prefixes our route (i.e. /api/v1/auth)\n  router.use(\"/auth\", getAuthRoutes());\n  router.use(\"/users\", getUserRoutes());\n  router.use(\"/videos\", getVideoRoutes());\n\n  return router;\n}\n\nexport { getRoutes };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632298138565
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/auth.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/auth.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAuthRoutes = getAuthRoutes;\n\nvar _client = require(\"@prisma/client\");\n\nvar _express = _interopRequireWildcard(require(\"express\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _authorization = require(\"../middleware/authorization\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst prisma = new _client.PrismaClient(); // A function to get the routes.\n// All route definitions are in one place and we only need to export one thing\n\nfunction getAuthRoutes() {\n  const router = _express.default.Router(); // 'http://localhost:3000/api/v1/auth/current-user'\n  // router.get('/current-user', (req, res) => {\n  //   res.status(200).json({\n  //     user: {\n  //       id: \"1234\",\n  //       username: \"test\",\n  //       email: \"email@test.com\"\n  //     }\n  //   })s\n  // })\n\n\n  router.post('/google-login', googleLogin);\n  router.get('/me', _authorization.protect, me);\n  router.get('/signout', signout);\n  return router;\n} // All controllers/utility functions here\n\n\nasync function googleLogin(req, res) {\n  const {\n    username,\n    email\n  } = req.body;\n  let user;\n\n  try {\n    user = await prisma.user.findUnique({\n      where: {\n        email\n      }\n    });\n  } catch (error) {\n    console.log(error);\n  }\n\n  if (!user) {\n    user = await prisma.user.create({\n      data: {\n        username,\n        email\n      }\n    });\n  }\n\n  const tokenPlayload = {\n    id: user.id\n  };\n\n  const token = _jsonwebtoken.default.sign(tokenPlayload, process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXPIRE\n  });\n\n  res.cookie('token', token, {\n    httpOnly: true\n  });\n  res.status(200).send(token);\n}\n\nasync function me(req, res) {\n  console.log(req.user, \"succssdsdfasdf\");\n  res.status(200).json({\n    user: req.user\n  });\n}\n\nfunction signout(req, res) {\n  res.clearCookie('token');\n  res.status(200).json({});\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsicHJpc21hIiwiUHJpc21hQ2xpZW50IiwiZ2V0QXV0aFJvdXRlcyIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiZ29vZ2xlTG9naW4iLCJnZXQiLCJwcm90ZWN0IiwibWUiLCJzaWdub3V0IiwicmVxIiwicmVzIiwidXNlcm5hbWUiLCJlbWFpbCIsImJvZHkiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlIiwiZGF0YSIsInRva2VuUGxheWxvYWQiLCJpZCIsInRva2VuIiwiand0Iiwic2lnbiIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiSldUX0VYUElSRSIsImNvb2tpZSIsImh0dHBPbmx5Iiwic3RhdHVzIiwic2VuZCIsImpzb24iLCJjbGVhckNvb2tpZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxvQkFBSixFQUFmLEMsQ0FDQTtBQUNBOztBQUNBLFNBQVNDLGFBQVQsR0FBeUI7QUFDdkIsUUFBTUMsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmLENBRHVCLENBR3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQUYsRUFBQUEsTUFBTSxDQUFDRyxJQUFQLENBQVksZUFBWixFQUE2QkMsV0FBN0I7QUFDQUosRUFBQUEsTUFBTSxDQUFDSyxHQUFQLENBQVcsS0FBWCxFQUFrQkMsc0JBQWxCLEVBQTJCQyxFQUEzQjtBQUNBUCxFQUFBQSxNQUFNLENBQUNLLEdBQVAsQ0FBVyxVQUFYLEVBQXVCRyxPQUF2QjtBQUVBLFNBQU9SLE1BQVA7QUFDRCxDLENBRUQ7OztBQUNBLGVBQWVJLFdBQWYsQ0FBMkJLLEdBQTNCLEVBQWdDQyxHQUFoQyxFQUFxQztBQUNuQyxRQUFNO0FBQUVDLElBQUFBLFFBQUY7QUFBWUMsSUFBQUE7QUFBWixNQUFzQkgsR0FBRyxDQUFDSSxJQUFoQztBQUVBLE1BQUlDLElBQUo7O0FBQ0EsTUFBSTtBQUNGQSxJQUFBQSxJQUFJLEdBQUcsTUFBTWpCLE1BQU0sQ0FBQ2lCLElBQVAsQ0FBWUMsVUFBWixDQUF1QjtBQUNsQ0MsTUFBQUEsS0FBSyxFQUFFO0FBQ0xKLFFBQUFBO0FBREs7QUFEMkIsS0FBdkIsQ0FBYjtBQUtELEdBTkQsQ0FNRSxPQUFPSyxLQUFQLEVBQWM7QUFDZEMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVo7QUFDRDs7QUFFRCxNQUFJLENBQUNILElBQUwsRUFBVztBQUNUQSxJQUFBQSxJQUFJLEdBQUcsTUFBTWpCLE1BQU0sQ0FBQ2lCLElBQVAsQ0FBWU0sTUFBWixDQUFtQjtBQUM5QkMsTUFBQUEsSUFBSSxFQUFFO0FBQ0pWLFFBQUFBLFFBREk7QUFFSkMsUUFBQUE7QUFGSTtBQUR3QixLQUFuQixDQUFiO0FBTUQ7O0FBR0QsUUFBTVUsYUFBYSxHQUFHO0FBQUVDLElBQUFBLEVBQUUsRUFBRVQsSUFBSSxDQUFDUztBQUFYLEdBQXRCOztBQUNBLFFBQU1DLEtBQUssR0FBR0Msc0JBQUlDLElBQUosQ0FBU0osYUFBVCxFQUF3QkssT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBQXBDLEVBQWdEO0FBQzVEQyxJQUFBQSxTQUFTLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRztBQURxQyxHQUFoRCxDQUFkOztBQUlBckIsRUFBQUEsR0FBRyxDQUFDc0IsTUFBSixDQUFXLE9BQVgsRUFBb0JSLEtBQXBCLEVBQTJCO0FBQUVTLElBQUFBLFFBQVEsRUFBRTtBQUFaLEdBQTNCO0FBQ0F2QixFQUFBQSxHQUFHLENBQUN3QixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJYLEtBQXJCO0FBQ0Q7O0FBRUQsZUFBZWpCLEVBQWYsQ0FBa0JFLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QjtBQUMxQlEsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlWLEdBQUcsQ0FBQ0ssSUFBaEIsRUFBc0IsZ0JBQXRCO0FBRUFKLEVBQUFBLEdBQUcsQ0FBQ3dCLE1BQUosQ0FBVyxHQUFYLEVBQWdCRSxJQUFoQixDQUFxQjtBQUNuQnRCLElBQUFBLElBQUksRUFBRUwsR0FBRyxDQUFDSztBQURTLEdBQXJCO0FBR0Q7O0FBRUQsU0FBU04sT0FBVCxDQUFpQkMsR0FBakIsRUFBc0JDLEdBQXRCLEVBQTJCO0FBQ3pCQSxFQUFBQSxHQUFHLENBQUMyQixXQUFKLENBQWdCLE9BQWhCO0FBQ0EzQixFQUFBQSxHQUFHLENBQUN3QixNQUFKLENBQVcsR0FBWCxFQUFnQkUsSUFBaEIsQ0FBcUIsRUFBckI7QUFDRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWVyb2ovRGVza3RvcC9KYXZhU2NyaXB0L3lvdXR1YmUvc2VydmVyL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5pbXBvcnQgZXhwcmVzcywgeyByZXF1ZXN0IH0gZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IHByb3RlY3QgfSBmcm9tICcuLi9taWRkbGV3YXJlL2F1dGhvcml6YXRpb24nO1xuXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KClcbi8vIEEgZnVuY3Rpb24gdG8gZ2V0IHRoZSByb3V0ZXMuXG4vLyBBbGwgcm91dGUgZGVmaW5pdGlvbnMgYXJlIGluIG9uZSBwbGFjZSBhbmQgd2Ugb25seSBuZWVkIHRvIGV4cG9ydCBvbmUgdGhpbmdcbmZ1bmN0aW9uIGdldEF1dGhSb3V0ZXMoKSB7XG4gIGNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbiAgLy8gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdjEvYXV0aC9jdXJyZW50LXVzZXInXG4gIC8vIHJvdXRlci5nZXQoJy9jdXJyZW50LXVzZXInLCAocmVxLCByZXMpID0+IHtcbiAgLy8gICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gIC8vICAgICB1c2VyOiB7XG4gIC8vICAgICAgIGlkOiBcIjEyMzRcIixcbiAgLy8gICAgICAgdXNlcm5hbWU6IFwidGVzdFwiLFxuICAvLyAgICAgICBlbWFpbDogXCJlbWFpbEB0ZXN0LmNvbVwiXG4gIC8vICAgICB9XG4gIC8vICAgfSlzXG4gIC8vIH0pXG5cbiAgcm91dGVyLnBvc3QoJy9nb29nbGUtbG9naW4nLCBnb29nbGVMb2dpbilcbiAgcm91dGVyLmdldCgnL21lJywgcHJvdGVjdCwgbWUpXG4gIHJvdXRlci5nZXQoJy9zaWdub3V0Jywgc2lnbm91dClcblxuICByZXR1cm4gcm91dGVyO1xufVxuXG4vLyBBbGwgY29udHJvbGxlcnMvdXRpbGl0eSBmdW5jdGlvbnMgaGVyZVxuYXN5bmMgZnVuY3Rpb24gZ29vZ2xlTG9naW4ocmVxLCByZXMpIHtcbiAgY29uc3QgeyB1c2VybmFtZSwgZW1haWwgfSA9IHJlcS5ib2R5XG5cbiAgbGV0IHVzZXI7XG4gIHRyeSB7XG4gICAgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgZW1haWwsXG4gICAgICB9XG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgfVxuXG4gIGlmICghdXNlcikge1xuICAgIHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgZW1haWwsXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG5cbiAgY29uc3QgdG9rZW5QbGF5bG9hZCA9IHsgaWQ6IHVzZXIuaWQgfVxuICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHRva2VuUGxheWxvYWQsIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIHtcbiAgICBleHBpcmVzSW46IHByb2Nlc3MuZW52LkpXVF9FWFBJUkVcbiAgfSlcblxuICByZXMuY29va2llKCd0b2tlbicsIHRva2VuLCB7IGh0dHBPbmx5OiB0cnVlIH0pXG4gIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHRva2VuKVxufVxuXG5hc3luYyBmdW5jdGlvbiBtZShyZXEsIHJlcykge1xuICBjb25zb2xlLmxvZyhyZXEudXNlciwgXCJzdWNjc3Nkc2RmYXNkZlwiKVxuXG4gIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICB1c2VyOiByZXEudXNlclxuICB9KVxufVxuXG5mdW5jdGlvbiBzaWdub3V0KHJlcSwgcmVzKSB7XG4gIHJlcy5jbGVhckNvb2tpZSgndG9rZW4nKVxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7fSk7XG59XG5cbmV4cG9ydCB7IGdldEF1dGhSb3V0ZXMgfTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "prisma",
        "PrismaClient",
        "getAuthRoutes",
        "router",
        "express",
        "Router",
        "post",
        "googleLogin",
        "get",
        "protect",
        "me",
        "signout",
        "req",
        "res",
        "username",
        "email",
        "body",
        "user",
        "findUnique",
        "where",
        "error",
        "console",
        "log",
        "create",
        "data",
        "tokenPlayload",
        "id",
        "token",
        "jwt",
        "sign",
        "process",
        "env",
        "JWT_SECRET",
        "expiresIn",
        "JWT_EXPIRE",
        "cookie",
        "httpOnly",
        "status",
        "send",
        "json",
        "clearCookie"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;AAEA,MAAMA,MAAM,GAAG,IAAIC,oBAAJ,EAAf,C,CACA;AACA;;AACA,SAASC,aAAT,GAAyB;AACvB,QAAMC,MAAM,GAAGC,iBAAQC,MAAR,EAAf,CADuB,CAGvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAF,EAAAA,MAAM,CAACG,IAAP,CAAY,eAAZ,EAA6BC,WAA7B;AACAJ,EAAAA,MAAM,CAACK,GAAP,CAAW,KAAX,EAAkBC,sBAAlB,EAA2BC,EAA3B;AACAP,EAAAA,MAAM,CAACK,GAAP,CAAW,UAAX,EAAuBG,OAAvB;AAEA,SAAOR,MAAP;AACD,C,CAED;;;AACA,eAAeI,WAAf,CAA2BK,GAA3B,EAAgCC,GAAhC,EAAqC;AACnC,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAsBH,GAAG,CAACI,IAAhC;AAEA,MAAIC,IAAJ;;AACA,MAAI;AACFA,IAAAA,IAAI,GAAG,MAAMjB,MAAM,CAACiB,IAAP,CAAYC,UAAZ,CAAuB;AAClCC,MAAAA,KAAK,EAAE;AACLJ,QAAAA;AADK;AAD2B,KAAvB,CAAb;AAKD,GAND,CAME,OAAOK,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;;AAED,MAAI,CAACH,IAAL,EAAW;AACTA,IAAAA,IAAI,GAAG,MAAMjB,MAAM,CAACiB,IAAP,CAAYM,MAAZ,CAAmB;AAC9BC,MAAAA,IAAI,EAAE;AACJV,QAAAA,QADI;AAEJC,QAAAA;AAFI;AADwB,KAAnB,CAAb;AAMD;;AAGD,QAAMU,aAAa,GAAG;AAAEC,IAAAA,EAAE,EAAET,IAAI,CAACS;AAAX,GAAtB;;AACA,QAAMC,KAAK,GAAGC,sBAAIC,IAAJ,CAASJ,aAAT,EAAwBK,OAAO,CAACC,GAAR,CAAYC,UAApC,EAAgD;AAC5DC,IAAAA,SAAS,EAAEH,OAAO,CAACC,GAAR,CAAYG;AADqC,GAAhD,CAAd;;AAIArB,EAAAA,GAAG,CAACsB,MAAJ,CAAW,OAAX,EAAoBR,KAApB,EAA2B;AAAES,IAAAA,QAAQ,EAAE;AAAZ,GAA3B;AACAvB,EAAAA,GAAG,CAACwB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBX,KAArB;AACD;;AAED,eAAejB,EAAf,CAAkBE,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1BQ,EAAAA,OAAO,CAACC,GAAR,CAAYV,GAAG,CAACK,IAAhB,EAAsB,gBAAtB;AAEAJ,EAAAA,GAAG,CAACwB,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB;AACnBtB,IAAAA,IAAI,EAAEL,GAAG,CAACK;AADS,GAArB;AAGD;;AAED,SAASN,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;AACzBA,EAAAA,GAAG,CAAC2B,WAAJ,CAAgB,OAAhB;AACA3B,EAAAA,GAAG,CAACwB,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB,EAArB;AACD",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "sourcesContent": [
        "import { PrismaClient } from '@prisma/client'\nimport express, { request } from \"express\";\nimport jwt from 'jsonwebtoken';\nimport { protect } from '../middleware/authorization';\n\nconst prisma = new PrismaClient()\n// A function to get the routes.\n// All route definitions are in one place and we only need to export one thing\nfunction getAuthRoutes() {\n  const router = express.Router();\n\n  // 'http://localhost:3000/api/v1/auth/current-user'\n  // router.get('/current-user', (req, res) => {\n  //   res.status(200).json({\n  //     user: {\n  //       id: \"1234\",\n  //       username: \"test\",\n  //       email: \"email@test.com\"\n  //     }\n  //   })s\n  // })\n\n  router.post('/google-login', googleLogin)\n  router.get('/me', protect, me)\n  router.get('/signout', signout)\n\n  return router;\n}\n\n// All controllers/utility functions here\nasync function googleLogin(req, res) {\n  const { username, email } = req.body\n\n  let user;\n  try {\n    user = await prisma.user.findUnique({\n      where: {\n        email,\n      }\n    })\n  } catch (error) {\n    console.log(error)\n  }\n\n  if (!user) {\n    user = await prisma.user.create({\n      data: {\n        username,\n        email,\n      }\n    })\n  }\n\n\n  const tokenPlayload = { id: user.id }\n  const token = jwt.sign(tokenPlayload, process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXPIRE\n  })\n\n  res.cookie('token', token, { httpOnly: true })\n  res.status(200).send(token)\n}\n\nasync function me(req, res) {\n  console.log(req.user, \"succssdsdfasdf\")\n\n  res.status(200).json({\n    user: req.user\n  })\n}\n\nfunction signout(req, res) {\n  res.clearCookie('token')\n  res.status(200).json({});\n}\n\nexport { getAuthRoutes };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632470376540
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/user.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/user.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUserRoutes = getUserRoutes;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getUserRoutes() {\n  const router = _express.default.Router();\n\n  return router;\n}\n\nasync function getLikedVideos(req, res, next) {}\n\nasync function getHistory(req, res, next) {}\n\nasync function toggleSubscribe(req, res, next) {}\n\nasync function getFeed(req, res) {}\n\nasync function searchUser(req, res, next) {}\n\nasync function getRecommendedChannels(req, res) {}\n\nasync function getProfile(req, res, next) {}\n\nasync function editUser(req, res) {}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiZ2V0VXNlclJvdXRlcyIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXRMaWtlZFZpZGVvcyIsInJlcSIsInJlcyIsIm5leHQiLCJnZXRIaXN0b3J5IiwidG9nZ2xlU3Vic2NyaWJlIiwiZ2V0RmVlZCIsInNlYXJjaFVzZXIiLCJnZXRSZWNvbW1lbmRlZENoYW5uZWxzIiwiZ2V0UHJvZmlsZSIsImVkaXRVc2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxTQUFTQSxhQUFULEdBQXlCO0FBQ3ZCLFFBQU1DLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQSxTQUFPRixNQUFQO0FBQ0Q7O0FBRUQsZUFBZUcsY0FBZixDQUE4QkMsR0FBOUIsRUFBbUNDLEdBQW5DLEVBQXdDQyxJQUF4QyxFQUE4QyxDQUFFOztBQUVoRCxlQUFlQyxVQUFmLENBQTBCSCxHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDLENBQUU7O0FBRTVDLGVBQWVFLGVBQWYsQ0FBK0JKLEdBQS9CLEVBQW9DQyxHQUFwQyxFQUF5Q0MsSUFBekMsRUFBK0MsQ0FBRTs7QUFFakQsZUFBZUcsT0FBZixDQUF1QkwsR0FBdkIsRUFBNEJDLEdBQTVCLEVBQWlDLENBQUU7O0FBRW5DLGVBQWVLLFVBQWYsQ0FBMEJOLEdBQTFCLEVBQStCQyxHQUEvQixFQUFvQ0MsSUFBcEMsRUFBMEMsQ0FBRTs7QUFFNUMsZUFBZUssc0JBQWYsQ0FBc0NQLEdBQXRDLEVBQTJDQyxHQUEzQyxFQUFnRCxDQUFFOztBQUVsRCxlQUFlTyxVQUFmLENBQTBCUixHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDLENBQUU7O0FBRTVDLGVBQWVPLFFBQWYsQ0FBd0JULEdBQXhCLEVBQTZCQyxHQUE3QixFQUFrQyxDQUFFIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tZXJvai9EZXNrdG9wL0phdmFTY3JpcHQveW91dHViZS9zZXJ2ZXIvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuXG5mdW5jdGlvbiBnZXRVc2VyUm91dGVzKCkge1xuICBjb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4gIHJldHVybiByb3V0ZXI7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldExpa2VkVmlkZW9zKHJlcSwgcmVzLCBuZXh0KSB7fVxuXG5hc3luYyBmdW5jdGlvbiBnZXRIaXN0b3J5KHJlcSwgcmVzLCBuZXh0KSB7fVxuXG5hc3luYyBmdW5jdGlvbiB0b2dnbGVTdWJzY3JpYmUocmVxLCByZXMsIG5leHQpIHt9XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEZlZWQocmVxLCByZXMpIHt9XG5cbmFzeW5jIGZ1bmN0aW9uIHNlYXJjaFVzZXIocmVxLCByZXMsIG5leHQpIHt9XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFJlY29tbWVuZGVkQ2hhbm5lbHMocmVxLCByZXMpIHt9XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFByb2ZpbGUocmVxLCByZXMsIG5leHQpIHt9XG5cbmFzeW5jIGZ1bmN0aW9uIGVkaXRVc2VyKHJlcSwgcmVzKSB7fVxuXG5leHBvcnQgeyBnZXRVc2VyUm91dGVzIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "getUserRoutes",
        "router",
        "express",
        "Router",
        "getLikedVideos",
        "req",
        "res",
        "next",
        "getHistory",
        "toggleSubscribe",
        "getFeed",
        "searchUser",
        "getRecommendedChannels",
        "getProfile",
        "editUser"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,SAASA,aAAT,GAAyB;AACvB,QAAMC,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEA,SAAOF,MAAP;AACD;;AAED,eAAeG,cAAf,CAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,IAAxC,EAA8C,CAAE;;AAEhD,eAAeC,UAAf,CAA0BH,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC,EAA0C,CAAE;;AAE5C,eAAeE,eAAf,CAA+BJ,GAA/B,EAAoCC,GAApC,EAAyCC,IAAzC,EAA+C,CAAE;;AAEjD,eAAeG,OAAf,CAAuBL,GAAvB,EAA4BC,GAA5B,EAAiC,CAAE;;AAEnC,eAAeK,UAAf,CAA0BN,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC,EAA0C,CAAE;;AAE5C,eAAeK,sBAAf,CAAsCP,GAAtC,EAA2CC,GAA3C,EAAgD,CAAE;;AAElD,eAAeO,UAAf,CAA0BR,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC,EAA0C,CAAE;;AAE5C,eAAeO,QAAf,CAAwBT,GAAxB,EAA6BC,GAA7B,EAAkC,CAAE",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "sourcesContent": [
        "import express from \"express\";\n\nfunction getUserRoutes() {\n  const router = express.Router();\n\n  return router;\n}\n\nasync function getLikedVideos(req, res, next) {}\n\nasync function getHistory(req, res, next) {}\n\nasync function toggleSubscribe(req, res, next) {}\n\nasync function getFeed(req, res) {}\n\nasync function searchUser(req, res, next) {}\n\nasync function getRecommendedChannels(req, res) {}\n\nasync function getProfile(req, res, next) {}\n\nasync function editUser(req, res) {}\n\nexport { getUserRoutes };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632298138565
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/video.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/video.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/video.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/video.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
        "sourceFileName": "video.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getVideoRoutes = getVideoRoutes;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _client = require(\"@prisma/client\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst prisma = new _client.PrismaClient();\n\nfunction getVideoRoutes() {\n  const router = _express.default.Router();\n\n  router.get('/', getRecommendedVideos);\n  router.get('/trending', getTrendingVideos);\n  return router;\n}\n\nasync function getVideoViews(videos) {\n  for (const video of videos) {\n    const views = await prisma.view.count({\n      where: {\n        videoId: {\n          equals: video.id\n        }\n      }\n    });\n    video.views = views;\n  }\n\n  return videos;\n}\n\nasync function getRecommendedVideos(req, res) {\n  let videos = await prisma.video.findMany({\n    include: {\n      user: true\n    },\n    orderBy: {\n      createdAt: \"desc\"\n    }\n  });\n\n  if (!videos.length) {\n    return res.status(200).json({\n      videos\n    });\n  }\n\n  videos = await getVideoViews(videos);\n  res.status(200).json({\n    videos\n  });\n}\n\nasync function getTrendingVideos(req, res) {\n  let videos = await prisma.video.findMany({\n    include: {\n      user: true\n    },\n    orderBy: {\n      createdAt: \"desc\"\n    }\n  });\n\n  if (!videos.length) {\n    return res.status(200).json({\n      videos\n    });\n  }\n\n  videos = await getVideoViews(videos);\n  videos.sort((a, b) => b.views - a.views);\n  console.log(videos);\n  res.status(200).json({\n    videos\n  });\n}\n\nasync function searchVideos(req, res, next) {}\n\nasync function addVideo(req, res) {}\n\nasync function addComment(req, res, next) {}\n\nasync function deleteComment(req, res) {}\n\nasync function addVideoView(req, res, next) {}\n\nasync function likeVideo(req, res, next) {}\n\nasync function dislikeVideo(req, res, next) {}\n\nasync function getVideo(req, res, next) {}\n\nasync function deleteVideo(req, res) {}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZGVvLmpzIl0sIm5hbWVzIjpbInByaXNtYSIsIlByaXNtYUNsaWVudCIsImdldFZpZGVvUm91dGVzIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImdldFJlY29tbWVuZGVkVmlkZW9zIiwiZ2V0VHJlbmRpbmdWaWRlb3MiLCJnZXRWaWRlb1ZpZXdzIiwidmlkZW9zIiwidmlkZW8iLCJ2aWV3cyIsInZpZXciLCJjb3VudCIsIndoZXJlIiwidmlkZW9JZCIsImVxdWFscyIsImlkIiwicmVxIiwicmVzIiwiZmluZE1hbnkiLCJpbmNsdWRlIiwidXNlciIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJsZW5ndGgiLCJzdGF0dXMiLCJqc29uIiwic29ydCIsImEiLCJiIiwiY29uc29sZSIsImxvZyIsInNlYXJjaFZpZGVvcyIsIm5leHQiLCJhZGRWaWRlbyIsImFkZENvbW1lbnQiLCJkZWxldGVDb21tZW50IiwiYWRkVmlkZW9WaWV3IiwibGlrZVZpZGVvIiwiZGlzbGlrZVZpZGVvIiwiZ2V0VmlkZW8iLCJkZWxldGVWaWRlbyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLG9CQUFKLEVBQWY7O0FBRUEsU0FBU0MsY0FBVCxHQUEwQjtBQUN4QixRQUFNQyxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBRUFGLEVBQUFBLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0JDLG9CQUFoQjtBQUNBSixFQUFBQSxNQUFNLENBQUNHLEdBQVAsQ0FBVyxXQUFYLEVBQXdCRSxpQkFBeEI7QUFFQSxTQUFPTCxNQUFQO0FBQ0Q7O0FBRUQsZUFBZU0sYUFBZixDQUE2QkMsTUFBN0IsRUFBcUM7QUFDbkMsT0FBSyxNQUFNQyxLQUFYLElBQW9CRCxNQUFwQixFQUE0QjtBQUMxQixVQUFNRSxLQUFLLEdBQUcsTUFBTVosTUFBTSxDQUFDYSxJQUFQLENBQVlDLEtBQVosQ0FBa0I7QUFDcENDLE1BQUFBLEtBQUssRUFBRTtBQUNMQyxRQUFBQSxPQUFPLEVBQUU7QUFDUEMsVUFBQUEsTUFBTSxFQUFFTixLQUFLLENBQUNPO0FBRFA7QUFESjtBQUQ2QixLQUFsQixDQUFwQjtBQU9BUCxJQUFBQSxLQUFLLENBQUNDLEtBQU4sR0FBY0EsS0FBZDtBQUNEOztBQUNELFNBQU9GLE1BQVA7QUFDRDs7QUFFRCxlQUFlSCxvQkFBZixDQUFvQ1ksR0FBcEMsRUFBeUNDLEdBQXpDLEVBQThDO0FBQzVDLE1BQUlWLE1BQU0sR0FBRyxNQUFNVixNQUFNLENBQUNXLEtBQVAsQ0FBYVUsUUFBYixDQUFzQjtBQUN2Q0MsSUFBQUEsT0FBTyxFQUFFO0FBQ1BDLE1BQUFBLElBQUksRUFBRTtBQURDLEtBRDhCO0FBSXZDQyxJQUFBQSxPQUFPLEVBQUU7QUFDUEMsTUFBQUEsU0FBUyxFQUFFO0FBREo7QUFKOEIsR0FBdEIsQ0FBbkI7O0FBUUEsTUFBSSxDQUFDZixNQUFNLENBQUNnQixNQUFaLEVBQW9CO0FBQ2xCLFdBQU9OLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVsQixNQUFBQTtBQUFGLEtBQXJCLENBQVA7QUFDRDs7QUFFREEsRUFBQUEsTUFBTSxHQUFHLE1BQU1ELGFBQWEsQ0FBQ0MsTUFBRCxDQUE1QjtBQUVBVSxFQUFBQSxHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFbEIsSUFBQUE7QUFBRixHQUFyQjtBQUdEOztBQUdELGVBQWVGLGlCQUFmLENBQWlDVyxHQUFqQyxFQUFzQ0MsR0FBdEMsRUFBMkM7QUFFekMsTUFBSVYsTUFBTSxHQUFHLE1BQU1WLE1BQU0sQ0FBQ1csS0FBUCxDQUFhVSxRQUFiLENBQXNCO0FBQ3ZDQyxJQUFBQSxPQUFPLEVBQUU7QUFDUEMsTUFBQUEsSUFBSSxFQUFFO0FBREMsS0FEOEI7QUFJdkNDLElBQUFBLE9BQU8sRUFBRTtBQUNQQyxNQUFBQSxTQUFTLEVBQUU7QUFESjtBQUo4QixHQUF0QixDQUFuQjs7QUFRQSxNQUFJLENBQUNmLE1BQU0sQ0FBQ2dCLE1BQVosRUFBb0I7QUFDbEIsV0FBT04sR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRWxCLE1BQUFBO0FBQUYsS0FBckIsQ0FBUDtBQUNEOztBQUVEQSxFQUFBQSxNQUFNLEdBQUcsTUFBTUQsYUFBYSxDQUFDQyxNQUFELENBQTVCO0FBQ0FBLEVBQUFBLE1BQU0sQ0FBQ21CLElBQVAsQ0FBWSxDQUFDQyxDQUFELEVBQUlDLENBQUosS0FBVUEsQ0FBQyxDQUFDbkIsS0FBRixHQUFVa0IsQ0FBQyxDQUFDbEIsS0FBbEM7QUFDQW9CLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZdkIsTUFBWjtBQUVBVSxFQUFBQSxHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFbEIsSUFBQUE7QUFBRixHQUFyQjtBQUVEOztBQUVELGVBQWV3QixZQUFmLENBQTRCZixHQUE1QixFQUFpQ0MsR0FBakMsRUFBc0NlLElBQXRDLEVBQTRDLENBQUc7O0FBRS9DLGVBQWVDLFFBQWYsQ0FBd0JqQixHQUF4QixFQUE2QkMsR0FBN0IsRUFBa0MsQ0FBRzs7QUFFckMsZUFBZWlCLFVBQWYsQ0FBMEJsQixHQUExQixFQUErQkMsR0FBL0IsRUFBb0NlLElBQXBDLEVBQTBDLENBQUc7O0FBRTdDLGVBQWVHLGFBQWYsQ0FBNkJuQixHQUE3QixFQUFrQ0MsR0FBbEMsRUFBdUMsQ0FBRzs7QUFFMUMsZUFBZW1CLFlBQWYsQ0FBNEJwQixHQUE1QixFQUFpQ0MsR0FBakMsRUFBc0NlLElBQXRDLEVBQTRDLENBQUc7O0FBRS9DLGVBQWVLLFNBQWYsQ0FBeUJyQixHQUF6QixFQUE4QkMsR0FBOUIsRUFBbUNlLElBQW5DLEVBQXlDLENBQUc7O0FBRTVDLGVBQWVNLFlBQWYsQ0FBNEJ0QixHQUE1QixFQUFpQ0MsR0FBakMsRUFBc0NlLElBQXRDLEVBQTRDLENBQUc7O0FBRS9DLGVBQWVPLFFBQWYsQ0FBd0J2QixHQUF4QixFQUE2QkMsR0FBN0IsRUFBa0NlLElBQWxDLEVBQXdDLENBQUc7O0FBRTNDLGVBQWVRLFdBQWYsQ0FBMkJ4QixHQUEzQixFQUFnQ0MsR0FBaEMsRUFBcUMsQ0FBRyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWVyb2ovRGVza3RvcC9KYXZhU2NyaXB0L3lvdXR1YmUvc2VydmVyL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KClcblxuZnVuY3Rpb24gZ2V0VmlkZW9Sb3V0ZXMoKSB7XG4gIGNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbiAgcm91dGVyLmdldCgnLycsIGdldFJlY29tbWVuZGVkVmlkZW9zKVxuICByb3V0ZXIuZ2V0KCcvdHJlbmRpbmcnLCBnZXRUcmVuZGluZ1ZpZGVvcylcblxuICByZXR1cm4gcm91dGVyO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRWaWRlb1ZpZXdzKHZpZGVvcykge1xuICBmb3IgKGNvbnN0IHZpZGVvIG9mIHZpZGVvcykge1xuICAgIGNvbnN0IHZpZXdzID0gYXdhaXQgcHJpc21hLnZpZXcuY291bnQoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgdmlkZW9JZDoge1xuICAgICAgICAgIGVxdWFsczogdmlkZW8uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgdmlkZW8udmlld3MgPSB2aWV3cztcbiAgfVxuICByZXR1cm4gdmlkZW9zO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRSZWNvbW1lbmRlZFZpZGVvcyhyZXEsIHJlcykge1xuICBsZXQgdmlkZW9zID0gYXdhaXQgcHJpc21hLnZpZGVvLmZpbmRNYW55KHtcbiAgICBpbmNsdWRlOiB7XG4gICAgICB1c2VyOiB0cnVlXG4gICAgfSxcbiAgICBvcmRlckJ5OiB7XG4gICAgICBjcmVhdGVkQXQ6IFwiZGVzY1wiXG4gICAgfVxuICB9KVxuICBpZiAoIXZpZGVvcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyB2aWRlb3MgfSlcbiAgfVxuXG4gIHZpZGVvcyA9IGF3YWl0IGdldFZpZGVvVmlld3ModmlkZW9zKTtcblxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHZpZGVvcyB9KVxuXG5cbn1cblxuXG5hc3luYyBmdW5jdGlvbiBnZXRUcmVuZGluZ1ZpZGVvcyhyZXEsIHJlcykge1xuXG4gIGxldCB2aWRlb3MgPSBhd2FpdCBwcmlzbWEudmlkZW8uZmluZE1hbnkoe1xuICAgIGluY2x1ZGU6IHtcbiAgICAgIHVzZXI6IHRydWVcbiAgICB9LFxuICAgIG9yZGVyQnk6IHtcbiAgICAgIGNyZWF0ZWRBdDogXCJkZXNjXCJcbiAgICB9XG4gIH0pXG4gIGlmICghdmlkZW9zLmxlbmd0aCkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHZpZGVvcyB9KVxuICB9XG5cbiAgdmlkZW9zID0gYXdhaXQgZ2V0VmlkZW9WaWV3cyh2aWRlb3MpO1xuICB2aWRlb3Muc29ydCgoYSwgYikgPT4gYi52aWV3cyAtIGEudmlld3MpXG4gIGNvbnNvbGUubG9nKHZpZGVvcylcblxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHZpZGVvcyB9KVxuXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlYXJjaFZpZGVvcyhyZXEsIHJlcywgbmV4dCkgeyB9XG5cbmFzeW5jIGZ1bmN0aW9uIGFkZFZpZGVvKHJlcSwgcmVzKSB7IH1cblxuYXN5bmMgZnVuY3Rpb24gYWRkQ29tbWVudChyZXEsIHJlcywgbmV4dCkgeyB9XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbW1lbnQocmVxLCByZXMpIHsgfVxuXG5hc3luYyBmdW5jdGlvbiBhZGRWaWRlb1ZpZXcocmVxLCByZXMsIG5leHQpIHsgfVxuXG5hc3luYyBmdW5jdGlvbiBsaWtlVmlkZW8ocmVxLCByZXMsIG5leHQpIHsgfVxuXG5hc3luYyBmdW5jdGlvbiBkaXNsaWtlVmlkZW8ocmVxLCByZXMsIG5leHQpIHsgfVxuXG5hc3luYyBmdW5jdGlvbiBnZXRWaWRlbyhyZXEsIHJlcywgbmV4dCkgeyB9XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVZpZGVvKHJlcSwgcmVzKSB7IH1cblxuZXhwb3J0IHsgZ2V0VmlkZW9Sb3V0ZXMgfTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "video.js"
      ],
      "names": [
        "prisma",
        "PrismaClient",
        "getVideoRoutes",
        "router",
        "express",
        "Router",
        "get",
        "getRecommendedVideos",
        "getTrendingVideos",
        "getVideoViews",
        "videos",
        "video",
        "views",
        "view",
        "count",
        "where",
        "videoId",
        "equals",
        "id",
        "req",
        "res",
        "findMany",
        "include",
        "user",
        "orderBy",
        "createdAt",
        "length",
        "status",
        "json",
        "sort",
        "a",
        "b",
        "console",
        "log",
        "searchVideos",
        "next",
        "addVideo",
        "addComment",
        "deleteComment",
        "addVideoView",
        "likeVideo",
        "dislikeVideo",
        "getVideo",
        "deleteVideo"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,IAAIC,oBAAJ,EAAf;;AAEA,SAASC,cAAT,GAA0B;AACxB,QAAMC,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,EAAAA,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,oBAAhB;AACAJ,EAAAA,MAAM,CAACG,GAAP,CAAW,WAAX,EAAwBE,iBAAxB;AAEA,SAAOL,MAAP;AACD;;AAED,eAAeM,aAAf,CAA6BC,MAA7B,EAAqC;AACnC,OAAK,MAAMC,KAAX,IAAoBD,MAApB,EAA4B;AAC1B,UAAME,KAAK,GAAG,MAAMZ,MAAM,CAACa,IAAP,CAAYC,KAAZ,CAAkB;AACpCC,MAAAA,KAAK,EAAE;AACLC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAEN,KAAK,CAACO;AADP;AADJ;AAD6B,KAAlB,CAApB;AAOAP,IAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACD;;AACD,SAAOF,MAAP;AACD;;AAED,eAAeH,oBAAf,CAAoCY,GAApC,EAAyCC,GAAzC,EAA8C;AAC5C,MAAIV,MAAM,GAAG,MAAMV,MAAM,CAACW,KAAP,CAAaU,QAAb,CAAsB;AACvCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAE;AADC,KAD8B;AAIvCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,SAAS,EAAE;AADJ;AAJ8B,GAAtB,CAAnB;;AAQA,MAAI,CAACf,MAAM,CAACgB,MAAZ,EAAoB;AAClB,WAAON,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAElB,MAAAA;AAAF,KAArB,CAAP;AACD;;AAEDA,EAAAA,MAAM,GAAG,MAAMD,aAAa,CAACC,MAAD,CAA5B;AAEAU,EAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAElB,IAAAA;AAAF,GAArB;AAGD;;AAGD,eAAeF,iBAAf,CAAiCW,GAAjC,EAAsCC,GAAtC,EAA2C;AAEzC,MAAIV,MAAM,GAAG,MAAMV,MAAM,CAACW,KAAP,CAAaU,QAAb,CAAsB;AACvCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAE;AADC,KAD8B;AAIvCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,SAAS,EAAE;AADJ;AAJ8B,GAAtB,CAAnB;;AAQA,MAAI,CAACf,MAAM,CAACgB,MAAZ,EAAoB;AAClB,WAAON,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAElB,MAAAA;AAAF,KAArB,CAAP;AACD;;AAEDA,EAAAA,MAAM,GAAG,MAAMD,aAAa,CAACC,MAAD,CAA5B;AACAA,EAAAA,MAAM,CAACmB,IAAP,CAAY,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACnB,KAAF,GAAUkB,CAAC,CAAClB,KAAlC;AACAoB,EAAAA,OAAO,CAACC,GAAR,CAAYvB,MAAZ;AAEAU,EAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAElB,IAAAA;AAAF,GAArB;AAED;;AAED,eAAewB,YAAf,CAA4Bf,GAA5B,EAAiCC,GAAjC,EAAsCe,IAAtC,EAA4C,CAAG;;AAE/C,eAAeC,QAAf,CAAwBjB,GAAxB,EAA6BC,GAA7B,EAAkC,CAAG;;AAErC,eAAeiB,UAAf,CAA0BlB,GAA1B,EAA+BC,GAA/B,EAAoCe,IAApC,EAA0C,CAAG;;AAE7C,eAAeG,aAAf,CAA6BnB,GAA7B,EAAkCC,GAAlC,EAAuC,CAAG;;AAE1C,eAAemB,YAAf,CAA4BpB,GAA5B,EAAiCC,GAAjC,EAAsCe,IAAtC,EAA4C,CAAG;;AAE/C,eAAeK,SAAf,CAAyBrB,GAAzB,EAA8BC,GAA9B,EAAmCe,IAAnC,EAAyC,CAAG;;AAE5C,eAAeM,YAAf,CAA4BtB,GAA5B,EAAiCC,GAAjC,EAAsCe,IAAtC,EAA4C,CAAG;;AAE/C,eAAeO,QAAf,CAAwBvB,GAAxB,EAA6BC,GAA7B,EAAkCe,IAAlC,EAAwC,CAAG;;AAE3C,eAAeQ,WAAf,CAA2BxB,GAA3B,EAAgCC,GAAhC,EAAqC,CAAG",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/routes/",
      "sourcesContent": [
        "import express from \"express\";\nimport { PrismaClient } from '@prisma/client'\n\nconst prisma = new PrismaClient()\n\nfunction getVideoRoutes() {\n  const router = express.Router();\n\n  router.get('/', getRecommendedVideos)\n  router.get('/trending', getTrendingVideos)\n\n  return router;\n}\n\nasync function getVideoViews(videos) {\n  for (const video of videos) {\n    const views = await prisma.view.count({\n      where: {\n        videoId: {\n          equals: video.id\n        }\n      }\n    })\n    video.views = views;\n  }\n  return videos;\n}\n\nasync function getRecommendedVideos(req, res) {\n  let videos = await prisma.video.findMany({\n    include: {\n      user: true\n    },\n    orderBy: {\n      createdAt: \"desc\"\n    }\n  })\n  if (!videos.length) {\n    return res.status(200).json({ videos })\n  }\n\n  videos = await getVideoViews(videos);\n\n  res.status(200).json({ videos })\n\n\n}\n\n\nasync function getTrendingVideos(req, res) {\n\n  let videos = await prisma.video.findMany({\n    include: {\n      user: true\n    },\n    orderBy: {\n      createdAt: \"desc\"\n    }\n  })\n  if (!videos.length) {\n    return res.status(200).json({ videos })\n  }\n\n  videos = await getVideoViews(videos);\n  videos.sort((a, b) => b.views - a.views)\n  console.log(videos)\n\n  res.status(200).json({ videos })\n\n}\n\nasync function searchVideos(req, res, next) { }\n\nasync function addVideo(req, res) { }\n\nasync function addComment(req, res, next) { }\n\nasync function deleteComment(req, res) { }\n\nasync function addVideoView(req, res, next) { }\n\nasync function likeVideo(req, res, next) { }\n\nasync function dislikeVideo(req, res, next) { }\n\nasync function getVideo(req, res, next) { }\n\nasync function deleteVideo(req, res) { }\n\nexport { getVideoRoutes };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632563215835
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/authorization.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/authorization.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/authorization.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/authorization.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
        "sourceFileName": "authorization.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAuthUser = getAuthUser;\nexports.protect = protect;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _client = require(\"@prisma/client\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst prisma = new _client.PrismaClient();\n\nasync function getAuthUser(req, res, next) {}\n\nasync function protect(req, res, next) {\n  if (!req.headers.authorization) {\n    return next({\n      message: \"You have to be logged in to visit this route, from auth check!\",\n      statusCode: 401\n    });\n  }\n\n  try {\n    const token = req.headers.authorization;\n\n    const decoded = _jsonwebtoken.default.verify(token, process.env.JWT_SECRET);\n\n    const user = await prisma.user.findUnique({\n      where: {\n        id: decoded.id\n      },\n      include: {\n        videos: true\n      }\n    });\n    req.user = user;\n    next();\n  } catch (error) {\n    next({\n      message: \"You have to be logged in to visit this route, From trycatch\" + error,\n      statusCode: 401\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhvcml6YXRpb24uanMiXSwibmFtZXMiOlsicHJpc21hIiwiUHJpc21hQ2xpZW50IiwiZ2V0QXV0aFVzZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwicHJvdGVjdCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiLCJ0b2tlbiIsImRlY29kZWQiLCJqd3QiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsImluY2x1ZGUiLCJ2aWRlb3MiLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxvQkFBSixFQUFmOztBQUVPLGVBQWVDLFdBQWYsQ0FBMkJDLEdBQTNCLEVBQWdDQyxHQUFoQyxFQUFxQ0MsSUFBckMsRUFBMkMsQ0FBRzs7QUFFOUMsZUFBZUMsT0FBZixDQUF1QkgsR0FBdkIsRUFBNEJDLEdBQTVCLEVBQWlDQyxJQUFqQyxFQUF1QztBQUM1QyxNQUFJLENBQUNGLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFqQixFQUFnQztBQUM5QixXQUFPSCxJQUFJLENBQUM7QUFDVkksTUFBQUEsT0FBTyxFQUFFLGdFQURDO0FBRVZDLE1BQUFBLFVBQVUsRUFBRTtBQUZGLEtBQUQsQ0FBWDtBQUlEOztBQUVELE1BQUk7QUFDRixVQUFNQyxLQUFLLEdBQUdSLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUExQjs7QUFDQSxVQUFNSSxPQUFPLEdBQUdDLHNCQUFJQyxNQUFKLENBQVdILEtBQVgsRUFBa0JJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUE5QixDQUFoQjs7QUFFQSxVQUFNQyxJQUFJLEdBQUcsTUFBTWxCLE1BQU0sQ0FBQ2tCLElBQVAsQ0FBWUMsVUFBWixDQUF1QjtBQUN4Q0MsTUFBQUEsS0FBSyxFQUFFO0FBQ0xDLFFBQUFBLEVBQUUsRUFBRVQsT0FBTyxDQUFDUztBQURQLE9BRGlDO0FBSXhDQyxNQUFBQSxPQUFPLEVBQUU7QUFDUEMsUUFBQUEsTUFBTSxFQUFFO0FBREQ7QUFKK0IsS0FBdkIsQ0FBbkI7QUFTQXBCLElBQUFBLEdBQUcsQ0FBQ2UsSUFBSixHQUFXQSxJQUFYO0FBQ0FiLElBQUFBLElBQUk7QUFFTCxHQWhCRCxDQWdCRSxPQUFPbUIsS0FBUCxFQUFjO0FBQ2RuQixJQUFBQSxJQUFJLENBQUM7QUFDSEksTUFBQUEsT0FBTyxFQUFFLGdFQUFnRWUsS0FEdEU7QUFFSGQsTUFBQUEsVUFBVSxFQUFFO0FBRlQsS0FBRCxDQUFKO0FBSUQ7QUFFRiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWVyb2ovRGVza3RvcC9KYXZhU2NyaXB0L3lvdXR1YmUvc2VydmVyL3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5cbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aFVzZXIocmVxLCByZXMsIG5leHQpIHsgfVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvdGVjdChyZXEsIHJlcywgbmV4dCkge1xuICBpZiAoIXJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24pIHtcbiAgICByZXR1cm4gbmV4dCh7XG4gICAgICBtZXNzYWdlOiBcIllvdSBoYXZlIHRvIGJlIGxvZ2dlZCBpbiB0byB2aXNpdCB0aGlzIHJvdXRlLCBmcm9tIGF1dGggY2hlY2shXCIsXG4gICAgICBzdGF0dXNDb2RlOiA0MDFcbiAgICB9KVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb25cbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVClcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBkZWNvZGVkLmlkXG4gICAgICB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICB2aWRlb3M6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlcS51c2VyID0gdXNlcjtcbiAgICBuZXh0KClcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoe1xuICAgICAgbWVzc2FnZTogXCJZb3UgaGF2ZSB0byBiZSBsb2dnZWQgaW4gdG8gdmlzaXQgdGhpcyByb3V0ZSwgRnJvbSB0cnljYXRjaFwiICsgZXJyb3IsXG4gICAgICBzdGF0dXNDb2RlOiA0MDFcbiAgICB9KVxuICB9XG5cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "authorization.js"
      ],
      "names": [
        "prisma",
        "PrismaClient",
        "getAuthUser",
        "req",
        "res",
        "next",
        "protect",
        "headers",
        "authorization",
        "message",
        "statusCode",
        "token",
        "decoded",
        "jwt",
        "verify",
        "process",
        "env",
        "JWT_SECRET",
        "user",
        "findUnique",
        "where",
        "id",
        "include",
        "videos",
        "error"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,IAAIC,oBAAJ,EAAf;;AAEO,eAAeC,WAAf,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2C,CAAG;;AAE9C,eAAeC,OAAf,CAAuBH,GAAvB,EAA4BC,GAA5B,EAAiCC,IAAjC,EAAuC;AAC5C,MAAI,CAACF,GAAG,CAACI,OAAJ,CAAYC,aAAjB,EAAgC;AAC9B,WAAOH,IAAI,CAAC;AACVI,MAAAA,OAAO,EAAE,gEADC;AAEVC,MAAAA,UAAU,EAAE;AAFF,KAAD,CAAX;AAID;;AAED,MAAI;AACF,UAAMC,KAAK,GAAGR,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AACA,UAAMI,OAAO,GAAGC,sBAAIC,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYC,UAA9B,CAAhB;;AAEA,UAAMC,IAAI,GAAG,MAAMlB,MAAM,CAACkB,IAAP,CAAYC,UAAZ,CAAuB;AACxCC,MAAAA,KAAK,EAAE;AACLC,QAAAA,EAAE,EAAET,OAAO,CAACS;AADP,OADiC;AAIxCC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE;AADD;AAJ+B,KAAvB,CAAnB;AASApB,IAAAA,GAAG,CAACe,IAAJ,GAAWA,IAAX;AACAb,IAAAA,IAAI;AAEL,GAhBD,CAgBE,OAAOmB,KAAP,EAAc;AACdnB,IAAAA,IAAI,CAAC;AACHI,MAAAA,OAAO,EAAE,gEAAgEe,KADtE;AAEHd,MAAAA,UAAU,EAAE;AAFT,KAAD,CAAJ;AAID;AAEF",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken'\nimport { PrismaClient } from '@prisma/client'\n\nconst prisma = new PrismaClient()\n\nexport async function getAuthUser(req, res, next) { }\n\nexport async function protect(req, res, next) {\n  if (!req.headers.authorization) {\n    return next({\n      message: \"You have to be logged in to visit this route, from auth check!\",\n      statusCode: 401\n    })\n  }\n\n  try {\n    const token = req.headers.authorization\n    const decoded = jwt.verify(token, process.env.JWT_SECRET)\n\n    const user = await prisma.user.findUnique({\n      where: {\n        id: decoded.id\n      },\n      include: {\n        videos: true\n      }\n    });\n\n    req.user = user;\n    next()\n\n  } catch (error) {\n    next({\n      message: \"You have to be logged in to visit this route, From trycatch\" + error,\n      statusCode: 401\n    })\n  }\n\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632400773570
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/authorization.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/authorization.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/authorization.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/authorization.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
        "sourceFileName": "authorization.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAuthUser = getAuthUser;\nexports.protect = protect;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _client = require(\"@prisma/client\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst prisma = new _client.PrismaClient();\n\nasync function getAuthUser(req, res, next) {}\n\nasync function protect(req, res, next) {\n  if (!req.headers.authorization) {\n    return next({\n      message: \"You have to be logged in to visit this route, from auth check!\",\n      statusCode: 401\n    });\n  }\n\n  try {\n    const token = req.headers.authorization;\n\n    const decoded = _jsonwebtoken.default.verify(token, process.env.JWT_SECRET);\n\n    const user = await prisma.user.findUnique({\n      where: {\n        id: decoded.id\n      },\n      include: {\n        videos: true\n      }\n    });\n    req.user = user;\n    next();\n  } catch (error) {\n    next({\n      message: \"You have to be logged in to visit this route, From trycatch\" + error,\n      statusCode: 401\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhvcml6YXRpb24uanMiXSwibmFtZXMiOlsicHJpc21hIiwiUHJpc21hQ2xpZW50IiwiZ2V0QXV0aFVzZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwicHJvdGVjdCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiLCJ0b2tlbiIsImRlY29kZWQiLCJqd3QiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsImluY2x1ZGUiLCJ2aWRlb3MiLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxvQkFBSixFQUFmOztBQUVPLGVBQWVDLFdBQWYsQ0FBMkJDLEdBQTNCLEVBQWdDQyxHQUFoQyxFQUFxQ0MsSUFBckMsRUFBMkMsQ0FBRzs7QUFFOUMsZUFBZUMsT0FBZixDQUF1QkgsR0FBdkIsRUFBNEJDLEdBQTVCLEVBQWlDQyxJQUFqQyxFQUF1QztBQUM1QyxNQUFJLENBQUNGLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFqQixFQUFnQztBQUM5QixXQUFPSCxJQUFJLENBQUM7QUFDVkksTUFBQUEsT0FBTyxFQUFFLGdFQURDO0FBRVZDLE1BQUFBLFVBQVUsRUFBRTtBQUZGLEtBQUQsQ0FBWDtBQUlEOztBQUVELE1BQUk7QUFDRixVQUFNQyxLQUFLLEdBQUdSLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUExQjs7QUFDQSxVQUFNSSxPQUFPLEdBQUdDLHNCQUFJQyxNQUFKLENBQVdILEtBQVgsRUFBa0JJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUE5QixDQUFoQjs7QUFFQSxVQUFNQyxJQUFJLEdBQUcsTUFBTWxCLE1BQU0sQ0FBQ2tCLElBQVAsQ0FBWUMsVUFBWixDQUF1QjtBQUN4Q0MsTUFBQUEsS0FBSyxFQUFFO0FBQ0xDLFFBQUFBLEVBQUUsRUFBRVQsT0FBTyxDQUFDUztBQURQLE9BRGlDO0FBSXhDQyxNQUFBQSxPQUFPLEVBQUU7QUFDUEMsUUFBQUEsTUFBTSxFQUFFO0FBREQ7QUFKK0IsS0FBdkIsQ0FBbkI7QUFTQXBCLElBQUFBLEdBQUcsQ0FBQ2UsSUFBSixHQUFXQSxJQUFYO0FBQ0FiLElBQUFBLElBQUk7QUFFTCxHQWhCRCxDQWdCRSxPQUFPbUIsS0FBUCxFQUFjO0FBQ2RuQixJQUFBQSxJQUFJLENBQUM7QUFDSEksTUFBQUEsT0FBTyxFQUFFLGdFQUFnRWUsS0FEdEU7QUFFSGQsTUFBQUEsVUFBVSxFQUFFO0FBRlQsS0FBRCxDQUFKO0FBSUQ7QUFFRiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWVyb2ovRGVza3RvcC9KYXZhU2NyaXB0L3lvdXR1YmUvc2VydmVyL3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5cbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aFVzZXIocmVxLCByZXMsIG5leHQpIHsgfVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvdGVjdChyZXEsIHJlcywgbmV4dCkge1xuICBpZiAoIXJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24pIHtcbiAgICByZXR1cm4gbmV4dCh7XG4gICAgICBtZXNzYWdlOiBcIllvdSBoYXZlIHRvIGJlIGxvZ2dlZCBpbiB0byB2aXNpdCB0aGlzIHJvdXRlLCBmcm9tIGF1dGggY2hlY2shXCIsXG4gICAgICBzdGF0dXNDb2RlOiA0MDFcbiAgICB9KVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb25cbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVClcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBkZWNvZGVkLmlkXG4gICAgICB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICB2aWRlb3M6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlcS51c2VyID0gdXNlcjtcbiAgICBuZXh0KClcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoe1xuICAgICAgbWVzc2FnZTogXCJZb3UgaGF2ZSB0byBiZSBsb2dnZWQgaW4gdG8gdmlzaXQgdGhpcyByb3V0ZSwgRnJvbSB0cnljYXRjaFwiICsgZXJyb3IsXG4gICAgICBzdGF0dXNDb2RlOiA0MDFcbiAgICB9KVxuICB9XG5cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "authorization.js"
      ],
      "names": [
        "prisma",
        "PrismaClient",
        "getAuthUser",
        "req",
        "res",
        "next",
        "protect",
        "headers",
        "authorization",
        "message",
        "statusCode",
        "token",
        "decoded",
        "jwt",
        "verify",
        "process",
        "env",
        "JWT_SECRET",
        "user",
        "findUnique",
        "where",
        "id",
        "include",
        "videos",
        "error"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,IAAIC,oBAAJ,EAAf;;AAEO,eAAeC,WAAf,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2C,CAAG;;AAE9C,eAAeC,OAAf,CAAuBH,GAAvB,EAA4BC,GAA5B,EAAiCC,IAAjC,EAAuC;AAC5C,MAAI,CAACF,GAAG,CAACI,OAAJ,CAAYC,aAAjB,EAAgC;AAC9B,WAAOH,IAAI,CAAC;AACVI,MAAAA,OAAO,EAAE,gEADC;AAEVC,MAAAA,UAAU,EAAE;AAFF,KAAD,CAAX;AAID;;AAED,MAAI;AACF,UAAMC,KAAK,GAAGR,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AACA,UAAMI,OAAO,GAAGC,sBAAIC,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYC,UAA9B,CAAhB;;AAEA,UAAMC,IAAI,GAAG,MAAMlB,MAAM,CAACkB,IAAP,CAAYC,UAAZ,CAAuB;AACxCC,MAAAA,KAAK,EAAE;AACLC,QAAAA,EAAE,EAAET,OAAO,CAACS;AADP,OADiC;AAIxCC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE;AADD;AAJ+B,KAAvB,CAAnB;AASApB,IAAAA,GAAG,CAACe,IAAJ,GAAWA,IAAX;AACAb,IAAAA,IAAI;AAEL,GAhBD,CAgBE,OAAOmB,KAAP,EAAc;AACdnB,IAAAA,IAAI,CAAC;AACHI,MAAAA,OAAO,EAAE,gEAAgEe,KADtE;AAEHd,MAAAA,UAAU,EAAE;AAFT,KAAD,CAAJ;AAID;AAEF",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken'\nimport { PrismaClient } from '@prisma/client'\n\nconst prisma = new PrismaClient()\n\nexport async function getAuthUser(req, res, next) { }\n\nexport async function protect(req, res, next) {\n  if (!req.headers.authorization) {\n    return next({\n      message: \"You have to be logged in to visit this route, from auth check!\",\n      statusCode: 401\n    })\n  }\n\n  try {\n    const token = req.headers.authorization\n    const decoded = jwt.verify(token, process.env.JWT_SECRET)\n\n    const user = await prisma.user.findUnique({\n      where: {\n        id: decoded.id\n      },\n      include: {\n        videos: true\n      }\n    });\n\n    req.user = user;\n    next()\n\n  } catch (error) {\n    next({\n      message: \"You have to be logged in to visit this route, From trycatch\" + error,\n      statusCode: 401\n    })\n  }\n\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632400773570
  },
  "{\"sourceRoot\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"filename\":\"/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/error.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/meroj/Desktop/JavaScript/youtube\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/meroj/Desktop/JavaScript/youtube",
      "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/error.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/meroj/Desktop/JavaScript/youtube",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/error.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/error.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
        "sourceFileName": "error.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errorMiddleware = errorMiddleware;\nexports.setupCloseOnExit = setupCloseOnExit;\n\nvar _loglevel = _interopRequireDefault(require(\"loglevel\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Middleware that will help us catch generic express-related errors\nfunction errorMiddleware(error, req, res, next) {\n  if (res.headersSent) {\n    next(error);\n  } else {\n    _loglevel.default.error(error);\n\n    res.status(error.statusCode || 500);\n    res.json({\n      message: error.message,\n      ...(process.env.NODE_ENV === \"production\" ? null : {\n        stack: error.stack\n      })\n    });\n  }\n} // This closes the server in the event of an error so\n// that our requests do not hang\n\n\nfunction setupCloseOnExit(server) {\n  async function exitHandler(options = {}) {\n    await server.close().then(() => {\n      _loglevel.default.info(\"Server successfully closed\");\n    }).catch(error => {\n      _loglevel.default.warn(\"Something went wrong closing the server\", error.stack);\n    });\n    if (options.exit) process.exit();\n  } // Do something when app is closing\n\n\n  process.on(\"exit\", exitHandler); // Catches ctrl+c event\n\n  process.on(\"SIGINT\", exitHandler.bind(null, {\n    exit: true\n  })); // Catches \"kill pid\" (for example: nodemon restart)\n\n  process.on(\"SIGUSR1\", exitHandler.bind(null, {\n    exit: true\n  }));\n  process.on(\"SIGUSR2\", exitHandler.bind(null, {\n    exit: true\n  })); // Catches uncaught exceptions\n\n  process.on(\"uncaughtException\", exitHandler.bind(null, {\n    exit: true\n  }));\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLmpzIl0sIm5hbWVzIjpbImVycm9yTWlkZGxld2FyZSIsImVycm9yIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnNTZW50IiwibG9nZ2VyIiwic3RhdHVzIiwic3RhdHVzQ29kZSIsImpzb24iLCJtZXNzYWdlIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwic3RhY2siLCJzZXR1cENsb3NlT25FeGl0Iiwic2VydmVyIiwiZXhpdEhhbmRsZXIiLCJvcHRpb25zIiwiY2xvc2UiLCJ0aGVuIiwiaW5mbyIsImNhdGNoIiwid2FybiIsImV4aXQiLCJvbiIsImJpbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFFQTtBQUNBLFNBQVNBLGVBQVQsQ0FBeUJDLEtBQXpCLEVBQWdDQyxHQUFoQyxFQUFxQ0MsR0FBckMsRUFBMENDLElBQTFDLEVBQWdEO0FBQzlDLE1BQUlELEdBQUcsQ0FBQ0UsV0FBUixFQUFxQjtBQUNuQkQsSUFBQUEsSUFBSSxDQUFDSCxLQUFELENBQUo7QUFDRCxHQUZELE1BRU87QUFDTEssc0JBQU9MLEtBQVAsQ0FBYUEsS0FBYjs7QUFDQUUsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVdOLEtBQUssQ0FBQ08sVUFBTixJQUFvQixHQUEvQjtBQUNBTCxJQUFBQSxHQUFHLENBQUNNLElBQUosQ0FBUztBQUNQQyxNQUFBQSxPQUFPLEVBQUVULEtBQUssQ0FBQ1MsT0FEUjtBQUVQLFVBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQXpCLEdBQ0EsSUFEQSxHQUVBO0FBQUVDLFFBQUFBLEtBQUssRUFBRWIsS0FBSyxDQUFDYTtBQUFmLE9BRko7QUFGTyxLQUFUO0FBTUQ7QUFDRixDLENBRUQ7QUFDQTs7O0FBQ0EsU0FBU0MsZ0JBQVQsQ0FBMEJDLE1BQTFCLEVBQWtDO0FBQ2hDLGlCQUFlQyxXQUFmLENBQTJCQyxPQUFPLEdBQUcsRUFBckMsRUFBeUM7QUFDdkMsVUFBTUYsTUFBTSxDQUNURyxLQURHLEdBRUhDLElBRkcsQ0FFRSxNQUFNO0FBQ1ZkLHdCQUFPZSxJQUFQLENBQVksNEJBQVo7QUFDRCxLQUpHLEVBS0hDLEtBTEcsQ0FLSXJCLEtBQUQsSUFBVztBQUNoQkssd0JBQU9pQixJQUFQLENBQVkseUNBQVosRUFBdUR0QixLQUFLLENBQUNhLEtBQTdEO0FBQ0QsS0FQRyxDQUFOO0FBUUEsUUFBSUksT0FBTyxDQUFDTSxJQUFaLEVBQWtCYixPQUFPLENBQUNhLElBQVI7QUFDbkIsR0FYK0IsQ0FZaEM7OztBQUNBYixFQUFBQSxPQUFPLENBQUNjLEVBQVIsQ0FBVyxNQUFYLEVBQW1CUixXQUFuQixFQWJnQyxDQWNoQzs7QUFDQU4sRUFBQUEsT0FBTyxDQUFDYyxFQUFSLENBQVcsUUFBWCxFQUFxQlIsV0FBVyxDQUFDUyxJQUFaLENBQWlCLElBQWpCLEVBQXVCO0FBQUVGLElBQUFBLElBQUksRUFBRTtBQUFSLEdBQXZCLENBQXJCLEVBZmdDLENBZ0JoQzs7QUFDQWIsRUFBQUEsT0FBTyxDQUFDYyxFQUFSLENBQVcsU0FBWCxFQUFzQlIsV0FBVyxDQUFDUyxJQUFaLENBQWlCLElBQWpCLEVBQXVCO0FBQUVGLElBQUFBLElBQUksRUFBRTtBQUFSLEdBQXZCLENBQXRCO0FBQ0FiLEVBQUFBLE9BQU8sQ0FBQ2MsRUFBUixDQUFXLFNBQVgsRUFBc0JSLFdBQVcsQ0FBQ1MsSUFBWixDQUFpQixJQUFqQixFQUF1QjtBQUFFRixJQUFBQSxJQUFJLEVBQUU7QUFBUixHQUF2QixDQUF0QixFQWxCZ0MsQ0FtQmhDOztBQUNBYixFQUFBQSxPQUFPLENBQUNjLEVBQVIsQ0FBVyxtQkFBWCxFQUFnQ1IsV0FBVyxDQUFDUyxJQUFaLENBQWlCLElBQWpCLEVBQXVCO0FBQUVGLElBQUFBLElBQUksRUFBRTtBQUFSLEdBQXZCLENBQWhDO0FBQ0QiLCJzb3VyY2VSb290IjoiL1VzZXJzL21lcm9qL0Rlc2t0b3AvSmF2YVNjcmlwdC95b3V0dWJlL3NlcnZlci9zcmMvbWlkZGxld2FyZS8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nZ2VyIGZyb20gXCJsb2dsZXZlbFwiO1xuXG4vLyBNaWRkbGV3YXJlIHRoYXQgd2lsbCBoZWxwIHVzIGNhdGNoIGdlbmVyaWMgZXhwcmVzcy1yZWxhdGVkIGVycm9yc1xuZnVuY3Rpb24gZXJyb3JNaWRkbGV3YXJlKGVycm9yLCByZXEsIHJlcywgbmV4dCkge1xuICBpZiAocmVzLmhlYWRlcnNTZW50KSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH0gZWxzZSB7XG4gICAgbG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgICByZXMuc3RhdHVzKGVycm9yLnN0YXR1c0NvZGUgfHwgNTAwKTtcbiAgICByZXMuanNvbih7XG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgLi4uKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIlxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiB7IHN0YWNrOiBlcnJvci5zdGFjayB9KSxcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBUaGlzIGNsb3NlcyB0aGUgc2VydmVyIGluIHRoZSBldmVudCBvZiBhbiBlcnJvciBzb1xuLy8gdGhhdCBvdXIgcmVxdWVzdHMgZG8gbm90IGhhbmdcbmZ1bmN0aW9uIHNldHVwQ2xvc2VPbkV4aXQoc2VydmVyKSB7XG4gIGFzeW5jIGZ1bmN0aW9uIGV4aXRIYW5kbGVyKG9wdGlvbnMgPSB7fSkge1xuICAgIGF3YWl0IHNlcnZlclxuICAgICAgLmNsb3NlKClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJTZXJ2ZXIgc3VjY2Vzc2Z1bGx5IGNsb3NlZFwiKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiU29tZXRoaW5nIHdlbnQgd3JvbmcgY2xvc2luZyB0aGUgc2VydmVyXCIsIGVycm9yLnN0YWNrKTtcbiAgICAgIH0pO1xuICAgIGlmIChvcHRpb25zLmV4aXQpIHByb2Nlc3MuZXhpdCgpO1xuICB9XG4gIC8vIERvIHNvbWV0aGluZyB3aGVuIGFwcCBpcyBjbG9zaW5nXG4gIHByb2Nlc3Mub24oXCJleGl0XCIsIGV4aXRIYW5kbGVyKTtcbiAgLy8gQ2F0Y2hlcyBjdHJsK2MgZXZlbnRcbiAgcHJvY2Vzcy5vbihcIlNJR0lOVFwiLCBleGl0SGFuZGxlci5iaW5kKG51bGwsIHsgZXhpdDogdHJ1ZSB9KSk7XG4gIC8vIENhdGNoZXMgXCJraWxsIHBpZFwiIChmb3IgZXhhbXBsZTogbm9kZW1vbiByZXN0YXJ0KVxuICBwcm9jZXNzLm9uKFwiU0lHVVNSMVwiLCBleGl0SGFuZGxlci5iaW5kKG51bGwsIHsgZXhpdDogdHJ1ZSB9KSk7XG4gIHByb2Nlc3Mub24oXCJTSUdVU1IyXCIsIGV4aXRIYW5kbGVyLmJpbmQobnVsbCwgeyBleGl0OiB0cnVlIH0pKTtcbiAgLy8gQ2F0Y2hlcyB1bmNhdWdodCBleGNlcHRpb25zXG4gIHByb2Nlc3Mub24oXCJ1bmNhdWdodEV4Y2VwdGlvblwiLCBleGl0SGFuZGxlci5iaW5kKG51bGwsIHsgZXhpdDogdHJ1ZSB9KSk7XG59XG5cbmV4cG9ydCB7IGVycm9yTWlkZGxld2FyZSwgc2V0dXBDbG9zZU9uRXhpdCB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "error.js"
      ],
      "names": [
        "errorMiddleware",
        "error",
        "req",
        "res",
        "next",
        "headersSent",
        "logger",
        "status",
        "statusCode",
        "json",
        "message",
        "process",
        "env",
        "NODE_ENV",
        "stack",
        "setupCloseOnExit",
        "server",
        "exitHandler",
        "options",
        "close",
        "then",
        "info",
        "catch",
        "warn",
        "exit",
        "on",
        "bind"
      ],
      "mappings": ";;;;;;;;AAAA;;;;AAEA;AACA,SAASA,eAAT,CAAyBC,KAAzB,EAAgCC,GAAhC,EAAqCC,GAArC,EAA0CC,IAA1C,EAAgD;AAC9C,MAAID,GAAG,CAACE,WAAR,EAAqB;AACnBD,IAAAA,IAAI,CAACH,KAAD,CAAJ;AACD,GAFD,MAEO;AACLK,sBAAOL,KAAP,CAAaA,KAAb;;AACAE,IAAAA,GAAG,CAACI,MAAJ,CAAWN,KAAK,CAACO,UAAN,IAAoB,GAA/B;AACAL,IAAAA,GAAG,CAACM,IAAJ,CAAS;AACPC,MAAAA,OAAO,EAAET,KAAK,CAACS,OADR;AAEP,UAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACA,IADA,GAEA;AAAEC,QAAAA,KAAK,EAAEb,KAAK,CAACa;AAAf,OAFJ;AAFO,KAAT;AAMD;AACF,C,CAED;AACA;;;AACA,SAASC,gBAAT,CAA0BC,MAA1B,EAAkC;AAChC,iBAAeC,WAAf,CAA2BC,OAAO,GAAG,EAArC,EAAyC;AACvC,UAAMF,MAAM,CACTG,KADG,GAEHC,IAFG,CAEE,MAAM;AACVd,wBAAOe,IAAP,CAAY,4BAAZ;AACD,KAJG,EAKHC,KALG,CAKIrB,KAAD,IAAW;AAChBK,wBAAOiB,IAAP,CAAY,yCAAZ,EAAuDtB,KAAK,CAACa,KAA7D;AACD,KAPG,CAAN;AAQA,QAAII,OAAO,CAACM,IAAZ,EAAkBb,OAAO,CAACa,IAAR;AACnB,GAX+B,CAYhC;;;AACAb,EAAAA,OAAO,CAACc,EAAR,CAAW,MAAX,EAAmBR,WAAnB,EAbgC,CAchC;;AACAN,EAAAA,OAAO,CAACc,EAAR,CAAW,QAAX,EAAqBR,WAAW,CAACS,IAAZ,CAAiB,IAAjB,EAAuB;AAAEF,IAAAA,IAAI,EAAE;AAAR,GAAvB,CAArB,EAfgC,CAgBhC;;AACAb,EAAAA,OAAO,CAACc,EAAR,CAAW,SAAX,EAAsBR,WAAW,CAACS,IAAZ,CAAiB,IAAjB,EAAuB;AAAEF,IAAAA,IAAI,EAAE;AAAR,GAAvB,CAAtB;AACAb,EAAAA,OAAO,CAACc,EAAR,CAAW,SAAX,EAAsBR,WAAW,CAACS,IAAZ,CAAiB,IAAjB,EAAuB;AAAEF,IAAAA,IAAI,EAAE;AAAR,GAAvB,CAAtB,EAlBgC,CAmBhC;;AACAb,EAAAA,OAAO,CAACc,EAAR,CAAW,mBAAX,EAAgCR,WAAW,CAACS,IAAZ,CAAiB,IAAjB,EAAuB;AAAEF,IAAAA,IAAI,EAAE;AAAR,GAAvB,CAAhC;AACD",
      "sourceRoot": "/Users/meroj/Desktop/JavaScript/youtube/server/src/middleware/",
      "sourcesContent": [
        "import logger from \"loglevel\";\n\n// Middleware that will help us catch generic express-related errors\nfunction errorMiddleware(error, req, res, next) {\n  if (res.headersSent) {\n    next(error);\n  } else {\n    logger.error(error);\n    res.status(error.statusCode || 500);\n    res.json({\n      message: error.message,\n      ...(process.env.NODE_ENV === \"production\"\n        ? null\n        : { stack: error.stack }),\n    });\n  }\n}\n\n// This closes the server in the event of an error so\n// that our requests do not hang\nfunction setupCloseOnExit(server) {\n  async function exitHandler(options = {}) {\n    await server\n      .close()\n      .then(() => {\n        logger.info(\"Server successfully closed\");\n      })\n      .catch((error) => {\n        logger.warn(\"Something went wrong closing the server\", error.stack);\n      });\n    if (options.exit) process.exit();\n  }\n  // Do something when app is closing\n  process.on(\"exit\", exitHandler);\n  // Catches ctrl+c event\n  process.on(\"SIGINT\", exitHandler.bind(null, { exit: true }));\n  // Catches \"kill pid\" (for example: nodemon restart)\n  process.on(\"SIGUSR1\", exitHandler.bind(null, { exit: true }));\n  process.on(\"SIGUSR2\", exitHandler.bind(null, { exit: true }));\n  // Catches uncaught exceptions\n  process.on(\"uncaughtException\", exitHandler.bind(null, { exit: true }));\n}\n\nexport { errorMiddleware, setupCloseOnExit };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1632298138565
  }
}